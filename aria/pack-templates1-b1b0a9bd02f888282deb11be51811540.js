/*
 * Aria Templates 1.3.5 - 05 Feb 2013
 *
 * Copyright 2009-2013 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//***MULTI-PART
//*******************
//LOGICAL-PATH:aria/core/environment/Customizations.js
//*******************
Aria.classDefinition({$classpath:"aria.core.environment.Customizations",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.core.environment.CustomizationsCfgBeans"],$singleton:!0,$statics:{DESCRIPTOR_NOT_LOADED:"A customization descriptor was specified but could not be loaded (url: '%1')",INVALID_DESCRIPTOR:"The Customization descriptor at '%1' is invalid"},$events:{descriptorLoaded:{description:""}},$constructor:function(){this._isCustomized=!1,this._descriptorLoaded=!1,this._customizationDescriptor=
null,this._customizations={templates:{},modules:{}},this.$EnvironmentBase.constructor.call(this)},$prototype:{_cfgPackage:"aria.core.environment.CustomizationsCfgBeans.AppCfg",_applyEnvironment:function(e){var t=this.checkApplicationSettings("customization");t&&(t.descriptor!==this._customizationDescriptor||aria.utils.Type.isObject(t.descriptor))&&(this._customizationDescriptor=t.descriptor,this.reloadCustomizationDescriptor()),this.$callback(e)},_onDescriptorReceive:function(e){var t=e.status!="200";if(t)this
.$logError(this.DESCRIPTOR_NOT_LOADED,this._customizationDescriptor);else{var n=aria.utils.Json.load(e.responseText);if(n==null){this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor),this.$raiseEvent("descriptorLoaded");return}this._setCustomizationDescriptor(n)}this._descriptorLoaded=!0,this.$raiseEvent("descriptorLoaded")},_setCustomizationDescriptor:function(e){var t=aria.core.JsonValidator.normalize({json:e,beanName:"aria.core.environment.CustomizationsCfgBeans.DescriptorCfg"});t?this._customizations=
e:this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor)},reloadCustomizationDescriptor:function(){this._isCustomized=this._customizationDescriptor?!0:!1,this._isCustomized&&(this._descriptorLoaded=!1,aria.utils.Type.isString(this._customizationDescriptor)?aria.core.IO.asyncRequest({url:this._customizationDescriptor,callback:{fn:this._onDescriptorReceive,onerror:this._onDescriptorReceive,scope:this}}):(this._setCustomizationDescriptor(this._customizationDescriptor),this._descriptorLoaded=!0,this
.$raiseEvent("descriptorLoaded")))},isCustomized:function(){return this._isCustomized},descriptorLoaded:function(){return this._descriptorLoaded},getFlowCP:function(e){var t=e;return this._isCustomized&&this._customizations.flows[e]!=null&&(t=this._customizations.flows[e]),t},getCustomModules:function(e){if(this._isCustomized){var t=this._customizations.modules[e];if(t)return t}return[]},getCustomizations:function(){return aria.utils.Json.copy(this._customizations)},getTemplateCP:function(e){var t=e;return this
._isCustomized&&this._customizations.templates[e]!=null&&(t=this._customizations.templates[e]),t},setCustomizations:function(e){var t=this.checkApplicationSettings("customization");t.descriptor=e,this._customizationDescriptor=e,this.reloadCustomizationDescriptor()}}});
//*******************
//LOGICAL-PATH:aria/core/environment/CustomizationsCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.core.environment.CustomizationsCfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{customization:{$type:"CustomizationCfg",$description:"",$default:{}}}},CustomizationCfg:{$type:"json:Object",$description:"",$properties:{descriptor:{$type:"json:MultiTypes",$description:"",$default:"",$contentTypes:[{$type:"json:ObjectRef",$description:""},{$type:"json:String",$description:""}]}}
},DescriptorCfg:{$type:"json:Object",$description:"",$properties:{templates:{$type:"json:Map",$description:"",$default:{},$keyType:{$type:"json:PackageName",$description:""},$contentType:{$type:"json:PackageName",$description:""}},modules:{$type:"json:Map",$default:{},$description:"",$keyType:{$type:"json:PackageName",$description:""},$contentType:{$type:"json:Array",$description:"",$contentType:{$type:"CustomModuleCfg"}}},flows:{$type:"json:Map",$description:"",$default:{},$keyType:{$type:"json:PackageName"
,$description:""},$contentType:{$type:"json:PackageName",$description:""}}}},CustomModuleCfg:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:String",$description:""},{$type:"json:Object",$description:"",$properties:{classpath:{$type:"json:PackageName",$description:""},refpath:{$type:"json:String",$regExp:/^custom:/,$description:""},initArgs:{$type:"json:ObjectRef",$description:""}}}]}}});
//*******************
//LOGICAL-PATH:aria/templates/BaseCtxt.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.BaseCtxt",$singleton:!1,$constructor:function(){this._cfg=null,this._out=null,this._tpl=null,this._macrolibs=[],this._csslibs=[]},$destructor:function(){if(!this._macrolibs&&!this._csslibs)return;this.__disposeLibs(this._macrolibs),this.__disposeLibs(this._csslibs),this._macrolibs=null,this._csslibs=null},$statics:{TEMPLATE_CONSTR_ERROR:"Error while creating a new instance of template '%1' - please check script constructor.",TEMPLATE_DESTR_ERROR:"Error while destroying an instance of template '%1' - please check script destructor."
,MACRO_NOT_FOUND:"Missing macro '%1' in template '%2'.",MACRO_CALL_ERROR:"Error while calling macro '%1' in template '%2'.",LIBRARY_HANDLE_CONFLICT:"Template error: can't load shared macro library '%1'. A macro, text template, variable or another library has already been declared with the same name.",LIBRARY_ALREADY_LOADED:"Template error: library at classpath '%1' has already been loaded."},$prototype:{checkMacro:function(e){return e==null?this._cfg.macro:(typeof e=="string"?e={name:e,args:[],scope:this._tpl
}:(e.args==null&&(e.args=[]),e.scope==null&&(e.scope=this._tpl)),e)},_callMacro:function(e,t){this.$assert(62,this._out!=null),t=this.checkMacro(t);var n=t.scope,r=n["macro_"+t.name];r==null&&this.$logError(this.MACRO_NOT_FOUND,[t.name,n.$classpath]);try{r.apply(n,t.args)}catch(i){this.$logError(this.MACRO_CALL_ERROR,[t.name,n.$classpath],i)}},__loadLibs:function(e,t){this.$assert(134,t=="macrolibs"||t=="csslibs");if(t=="macrolibs")var n=this._macrolibs,r="__$macrolibs",i=aria.templates.TemplateCtxt,s=aria.templates
.ITemplate;else if(t=="csslibs")var n=this._csslibs,r="__$csslibs",i=aria.templates.CSSCtxt,s=aria.templates.ICSS;var o={},u=0;for(var a in e)if(e.hasOwnProperty(a)){if(this._tpl[a]!==undefined){delete e[a],this.$logError(this.LIBRARY_HANDLE_CONFLICT,[a]);continue}if(o[e[a]]){this.$logError(this.LIBRARY_ALREADY_LOADED,[a]);continue}o[e[a]]=!0,u++}if(u===0)return;for(var a in e)if(e.hasOwnProperty(a)){this._tpl[a]=Aria.getClassInstance(e[a]),this._tpl[a].__$write=this._tpl.__$write;var f=new i;f._tpl=this._tpl
[a],n.push(f),s.call(this._tpl[a],f),f._tpl.__$initTemplate(),f.__loadLibs(f._tpl[r],t)}},__disposeLibs:function(e){for(var t=0;t<e.length;t++){var n=e[t];aria.templates.ITemplate.prototype.$destructor.call(n._tpl),n.$dispose()}}}});
//*******************
//LOGICAL-PATH:aria/templates/BaseTemplate.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.BaseTemplate",$dependencies:["aria.templates.Modifiers","aria.templates.IBaseTemplate","aria.utils.Json"],$destructor:function(){},$statics:{EXCEPTION_IN_MACRO:"Uncaught exception in macro '%1', line %2",EXCEPTION_IN_VARINIT:"Uncaught exception when initializing global variables in template '%0'.",ITERABLE_UNDEFINED:"line %2: Template error: cannot iterate over a null or undefined variable.",EXCEPTION_IN_EXPRESSION:"line %2: Uncaught runtime exception in expression '%1'"
,EXCEPTION_IN_VAR_EXPRESSION:"line %2: Uncaught runtime exception in var expression '%1'",EXCEPTION_IN_SET_EXPRESSION:"line %2: Uncaught runtime exception in set expression '%1'",EXCEPTION_IN_CHECKDEFAULT_EXPRESSION:"line %2: Uncaught runtime exception in checkdefault expression '%1'",MACRO_NOT_FOUND:"line %1: Template error: macro '%2' is not defined."},$prototype:{$json:aria.utils.Json,$init:function(e,t){var n=aria.templates.IBaseTemplate.prototype;for(var r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&
(e[r]=n[r]);e.$modifier=aria.templates.Modifiers.callModifier}}});
//*******************
//LOGICAL-PATH:aria/templates/CfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.templates.CfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes",coreBeans:"aria.core.CfgBeans",common:"aria.widgetLibs.CommonBeans"},$beans:{BaseTemplateCfg:{$type:"json:Object",$description:"",$properties:{$classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},$dependencies:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"json:PackageName",$description:""}},$hasScript:{$type:"json:Boolean",$description:"",$default:!1},$extends
:{$type:"json:PackageName",$description:""},$texts:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}}}},TemplateCfg:{$type:"BaseTemplateCfg",$description:"",$mandatory:!0,$properties:{$width:{$type:"ContainerSizeCfg",$description:"",$default:null},$height:{$type:"ContainerSizeCfg",$description:"",$default:null},$wlibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$sample:"aria.widgets.AriaLib",$mandatory:!0},$default
:{}},$res:{$type:"json:Map",$description:"",$contentType:{$type:"json:MultiTypes",$description:"",$sample:"aria.widgets.WidgetsRes"}},$templates:{$type:"json:Array",$description:"",$contentType:{$type:"json:PackageName",$description:""}},$css:{$type:"json:Array",$description:"",$contentType:{$type:"json:PackageName",$description:""}},$macrolibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}}}},LibraryCfg:{$type:"BaseTemplateCfg",$description:"",$mandatory
:!0,$properties:{$wlibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$sample:"aria.widgets.AriaLib",$mandatory:!0},$default:{}},$templates:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"json:PackageName",$description:""}},$macrolibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}},$res:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$sample:"aria.widgets.WidgetsRes"
}}}},CSSTemplateCfg:{$type:"BaseTemplateCfg",$description:"",$properties:{$csslibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}},$prefix:{$type:"json:Boolean",$description:""}}},CSSLibraryCfg:{$type:"BaseTemplateCfg",$description:"",$mandatory:!0,$properties:{$csslibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}},$res:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description
:"",$sample:"aria.widgets.WidgetsRes"}}}},TextTemplateCfg:{$type:"BaseTemplateCfg",$description:"",$mandatory:!0,$properties:{$res:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$sample:"aria.widgets.WidgetsRes"}}}},ContainerSizeCfg:{$type:"json:Object",$description:"",$properties:{min:{$type:"json:Integer",$description:""},max:{$type:"json:Integer",$description:""},value:{$type:"json:Integer",$description:""},scrollbar:{$type:"json:Boolean",$description:""}},$default
:{}},RootDimCfg:{$type:"json:Object",$description:"",$mandatory:!0,$properties:{width:{$type:"ContainerSizeCfg",$description:""},height:{$type:"ContainerSizeCfg",$description:""}}},ModuleCtrl:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:ObjectRef",$description:"",$mandatory:!0},{$type:"InitModuleCtrl"}]},InitModuleCtrl:{$type:"json:Object",$description:"",$mandatory:!0,$properties:{classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},autoDispose:{$type:"json:Boolean",$description
:"",$default:!0},constructorArgs:{$type:"json:ObjectRef",$description:"",$mandatory:!1},initArgs:{$type:"json:ObjectRef",$description:"",$mandatory:!1}}},Div:{$type:"json:MultiTypes",$description:"",$mandatory:!0,$contentTypes:[{$type:"json:ObjectRef",$description:""},{$type:"json:String",$description:""}]},TemplateSizeCfg:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:Integer",$description:""},{$type:"RelativeTemplateSizeCfg"}]},RelativeTemplateSizeCfg:{$type:"json:Object",$description
:"",$properties:{min:{$type:"json:Integer",$description:"",$mandatory:!0},incrementFactor:{$type:"json:Float",$description:"",$default:1},max:{$type:"json:Integer",$description:"",$default:null}}},PrintOptions:{$type:"json:Enum",$enumValues:["hidden","visible","adaptX","adaptY","adaptXY"],$description:"",$default:"visible"},BaseLoadTemplateCfg:{$type:"json:Object",$description:"",$properties:{classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},origClasspath:{$type:"json:PackageName",$description
:"",$mandatory:!1},printOptions:{$type:"PrintOptions",$default:"adaptXY"},width:{$type:"TemplateSizeCfg",$description:"",$mandatory:!1},height:{$type:"TemplateSizeCfg",$description:"",$mandatory:!1},data:{$type:"json:ObjectRef",$description:"",$mandatory:!1},moduleCtrl:{$type:"ModuleCtrl",$mandatory:!1},args:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"json:MultiTypes",$description:""}},rootDim:{$type:"RootDimCfg",$description:"",$mandatory:!1},provideContext:{$type:"json:Boolean",$description
:"",$mandatory:!1,$default:!1},reload:{$type:"json:Boolean",$description:"",$default:!1},reloadByPassCache:{$type:"json:Boolean",$description:"",$default:!1}}},LoadTemplateCfg:{$type:"BaseLoadTemplateCfg",$description:"",$properties:{div:{$type:"Div",$description:"",$mandatory:!0}}},InitTemplateCfg:{$type:"BaseLoadTemplateCfg",$description:"",$properties:{id:{$type:"json:String",$description:"",$mandatory:!1},originalId:{$type:"json:String",$description:"",$mandatory:!1},div:{$type:"Div",$description:"",$mandatory
:!1},tplDiv:{$type:"Div",$description:"",$mandatory:!1},macro:{$type:"MacroCfg"},toDispose:{$type:"json:Array",$description:"",$contentType:{$type:"json:ObjectRef",$description:"",$mandatory:!0}},baseTabIndex:{$type:"json:Integer",$description:"",$default:0},isRootTemplate:{$type:"json:Boolean",$description:"",$default:!1},context:{$type:"json:ObjectRef",$description:"",$mandatory:!1}}},InitCSSTemplateCfg:{$type:"json:Object",$mandatory:!0,$description:"",$properties:{classpath:{$type:"json:PackageName",$description
:"",$mandatory:!0},isWidget:{$type:"json:Boolean",$description:"",$mandatory:!1,$default:!1},widgetName:{$type:"json:String",$description:"",$mandatory:!1,$default:""},isTemplate:{$type:"json:Boolean",$description:"",$mandatory:!1,$default:!1}}},InitTxtTemplateCfg:{$type:"json:Object",$mandatory:!0,$description:"",$properties:{classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},data:{$type:"json:ObjectRef",$description:"",$mandatory:!1}}},MacroCfg:{$type:"json:MultiTypes",$description:"",$contentTypes
:[{$type:"json:String",$description:""},{$type:"json:Object",$description:"",$properties:{name:{$type:"json:String",$description:""},args:{$type:"json:Array",$description:"",$contentType:{$type:"json:MultiTypes",$description:""},$default:[]},scope:{$type:"json:ObjectRef",$description:""}}}]},HtmlAttribute:{$type:"json:Object",$description:"",$properties:{name:{$type:"json:String",$description:""},title:{$type:"json:String",$description:""},classList:{$type:"json:Array",$description:"",$contentType:{$type:"json:String"
,$description:""}},dataset:{$type:"json:ObjectRef",$description:""},style:{$type:"json:String",$description:""},dir:{$type:"json:String",$description:""},lang:{$type:"json:String",$description:""},abbr:{$type:"json:String",$description:""},height:{$type:"json:String",$description:""},width:{$type:"json:String",$description:""},size:{$type:"json:String",$description:""},cols:{$type:"json:String",$description:""},rows:{$type:"json:String",$description:""},rowspan:{$type:"json:String",$description:""},colspan:{
$type:"json:String",$description:""},nowrap:{$type:"json:String",$description:""},valign:{$type:"json:String",$description:""},align:{$type:"json:String",$description:""},border:{$type:"json:String",$description:""},cellpadding:{$type:"json:String",$description:""},cellspacing:{$type:"json:String",$description:""},disabled:{$type:"json:String",$description:""},readonly:{$type:"json:String",$description:""},checked:{$type:"json:String",$description:""},selected:{$type:"json:String",$description:""},multiple:{
$type:"json:String",$description:""},value:{$type:"json:String",$description:""},alt:{$type:"json:String",$description:""},maxlength:{$type:"json:String",$description:""},type:{$type:"json:String",$description:""},accesskey:{$type:"json:String",$description:""},tabindex:{$type:"json:Integer",$description:""},placeholder:{$type:"json:String",$description:""}}},SectionCfg:{$type:"json:Object",$description:"",$properties:{id:{$type:"json:String",$description:""},type:{$type:"json:String",$description:"",$default
:"span"},bindRefreshTo:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"BindingConfiguration",$description:"",$sample:"{inside : ..., to : ...}"}},bindProcessingTo:{$type:"BindingConfiguration",$description:"",$mandatory:!1},keyMap:{$type:"json:Array",$description:"",$mandatory:!1,$contentType:{$type:"KeyMapCfg",$description:""}},tableNav:{$type:"TableNavConfiguration",$description:"",$mandatory:!1},processingLabel:{$type:"json:String",$description:"",$mandatory:!1,$default:""},macro:{$type
:"MacroCfg",$description:""},cssClass:{$type:"json:String",$description:""},attributes:{$type:"HtmlAttribute",$description:""},on:{$type:"json:Object",$description:"",$default:{},$restricted:!1},bind:{$type:"json:Object",$description:"",$properties:{attributes:{$type:"common:BindingRef"}}}}},RepeaterCfg:{$type:"SectionCfg",$description:"",$mandatory:!0,$properties:{content:{$type:"json:ObjectRef",$description:"",$mandatory:!0},loopType:{$type:"json:Enum",$description:"",$enumValues:["array","pagedView","sortedView"
,"filteredView","view","map"],$mandatory:!1},childSections:{$type:"json:Object",$restricted:!1,$description:"",$properties:{id:{$type:"json:MultiTypes",$description:"",$mandatory:!0},macro:{$type:"json:MultiTypes",$description:"",$mandatory:!0}}},macro:{$type:"SectionCfg.macro",$description:""}}},BindingConfiguration:{$type:"json:Object",$description:"",$properties:{to:{$type:"json:JsonProperty",$description:"",$default:null},inside:{$type:"json:ObjectRef",$description:"",$mandatory:!0},recursive:{$type:"json:Boolean"
,$description:"",$default:!0}}},TableNavConfiguration:{$type:"json:MultiTypes",$description:""},RefreshCfg:{$type:"json:Object",$description:"",$default:{},$properties:{macro:{$type:"MacroCfg",$mandatory:!1},filterSection:{$type:"json:String",$description:"",$mandatory:!1},outputSection:{$type:"json:String",$description:"",$mandatory:!1}}},GetRefreshedSectionCfg:{$type:"RefreshCfg",$properties:{writerCallback:{$type:"coreBeans:Callback",$description:""}}},InsertAdjacentSectionsCfg:{$type:"json:Object",$description
:"",$mandatory:!0,$properties:{sections:{$type:"json:Array",$description:"",$mandatory:!0,$contentType:{$type:"json:MultiTypes",$mandatory:!0,$description:"",$contentTypes:[{$type:"json:String",$description:""},{$type:"SectionCfg",$description:""}]}},refSection:{$type:"json:Object",$mandatory:!0,$description:"",$properties:{object:{$type:"json:ObjectRef",$classpath:"aria.templates.Section",$description:"",$mandatory:!0},domElt:{$type:"json:ObjectRef",$description:"",$mandatory:!0}}},position:{$type:"json:Enum"
,$description:"",$mandatory:!0,$enumValues:["beforeBegin","afterBegin","beforeEnd","afterEnd"]}}},SubModuleDefinition:{$type:"json:Object",$description:"",$mandatory:!0,$properties:{refpath:{$type:"json:String",$description:"",$regExp:/./,$mandatory:!0,$sample:"pkg1.module"},arrayIndex:{$type:"json:Integer",$description:"",$mandatory:!1},classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},initArgs:{$type:"json:ObjectRef",$description:"",$mandatory:!1},display:{$type:"json:String",$description:""
,$mandatory:!1}}},TplScriptDefinitionCfg:{$type:"json:Object",$description:"",$properties:{$classpath:{$type:"json:PackageName",$description:"",$mandatory:!0,$sample:"aria.jsunit.TestSuite"},$dependencies:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"json:PackageName",$description:""}},$resources:{$type:"json:Map",$description:"",$contentType:{$type:"json:MultiTypes",$description:"",$sample:"aria.widgets.WidgetsRes",$contentTypes:[{$type:"json:Object",$description:""},{$type:"json:String"
,$description:""}]}},$texts:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}},$statics:{$type:"json:Map",$description:"",$contentType:{$type:"json:MultiTypes",$description:""}},$prototype:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:Map",$description:"",$contentType:{$type:"json:MultiTypes",$description:""}},{$type:"json:FunctionRef",$description:""}]},$constructor:{$type:"json:FunctionRef",$description:""},$destructor:{$type:"json:FunctionRef"
,$description:""}}},KeyMapCfg:{$type:"json:Object",$description:"",$properties:{key:{$type:"json:MultiTypes",$description:"",$mandatory:!0,$contentTypes:[{$type:"json:Integer",$description:""},{$type:"json:String",$description:"",$sample:"F4"}]},ctrl:{$type:"json:Boolean",$description:""},shift:{$type:"json:Boolean",$description:""},alt:{$type:"json:Boolean",$description:""},callback:{$type:"json:MultiTypes",$description:"",$mandatory:!0,$contentTypes:[{$type:"json:FunctionRef",$description:""},{$type:"coreBeans:Callback"
,$description:""}]},event:{$type:"json:Enum",$description:"",$enumValues:["keyup","keydown"]}}},GlobalKeyMapCfg:{$type:"KeyMapCfg",$description:"",$properties:{modal:{$type:"json:Boolean",$description:"",$default:!1}}}}});
//*******************
//LOGICAL-PATH:aria/templates/ClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ClassGenerator",$dependencies:["aria.templates.ClassWriter","aria.templates.TreeBeans","aria.templates.CfgBeans","aria.templates.Statements","aria.templates.Modifiers"],$singleton:!1,$constructor:function(){this._parser=null,this._superClass=null,this._classType=null,this._rootStatement=null,this._templateParamBean=null,this.STATEMENTS={},this.ALLSTATEMENTS=aria.templates.Statements.ALLSTATEMENTS,this._loadStatements(["#ROOT#","#TEXT#","#CDATA#","#EXPRESSION#"
,"if","elseif","else","for","foreach","separator","var","set","checkDefault","macro","call","memo"]),this._isDebug=aria.core.environment.Environment.isDebug(),aria.core.environment.Environment.$on({debugChanged:function(){this._isDebug=aria.core.environment.Environment.isDebug()},scope:this})},$statics:{TEMPLATE_STATEMENT_EXPECTED:"Template error: please check that the whole template is enclosed in a '%1' statement.",ERROR_IN_TEMPLATE_PARAMETER:"Template error, while evaluating the parameter of the '%1' statement."
,CHECK_ERROR_IN_TEMPLATE_PARAMETER:"Template error: the parameter of the '%1' statement does not respect the bean definition.",UNKNOWN_STATEMENT:"line %2: Template error: unknown statement '%1'.",EXPECTED_CONTAINER:"line %2: Template error: statement '%1' must be used as a container.",UNEXPECTED_CONTAINER:"line %2: Template error: statement '%1' cannot be used as a container.",SHOULD_BE_OUT_OF_MACRO:"line %2: Template error: statement '%1' cannot be used in a macro.",INVALID_STATEMENT_SYNTAX:"line %3: Template error: invalid parameter for statement '%1'; it should respect the regular expression %2."
},$prototype:{parseTemplate:function(e,t,n,r,i){var s=this._parser.parseTemplate(e,r,this.STATEMENTS);if(s==null){this.$callback(n,{classDef:null});return}this.__buildClass(s,t,n,r,i)},parseTemplateFromTree:function(e,t,n,r,i){this.__buildClass(e,t,n,r,i)},_loadStatements:function(e){for(var t=0,n=e.length;t<n;t+=1){var r=e[t];this.STATEMENTS[r]=this.ALLSTATEMENTS[r]}},getStatements:function(){return this.STATEMENTS},__buildClass:function(e,t,n,r,i){aria.core.JsonValidator.check(e,"aria.templates.TreeBeans.Root"
);var s=new aria.templates.ClassWriter({fn:this.__processStatement,scope:this},{fn:this.__logError,scope:this});s.errorContext=r,s.allDependencies=t,s.callback=n,s.tree=e,s.debug=i===!0,this._processRootStatement(s,e),s.errors&&(s.$dispose(),this.$callback(n,{classDef:null}))},_processRootStatement:function(out,tree){var rootStatement=tree.content[0];if(tree.content.length!=1||rootStatement.name!=this._rootStatement)return out.logError(tree,this.TEMPLATE_STATEMENT_EXPECTED,[this._rootStatement]);if(rootStatement
.content==null)return out.logError(rootStatement,this.EXPECTED_CONTAINER,[this._rootStatement]);var param;try{param=eval("("+rootStatement.paramBlock+")")}catch(e){return out.logError(rootStatement,this.ERROR_IN_TEMPLATE_PARAMETER,[this._rootStatement],e)}if(!aria.core.JsonValidator.normalize({json:param,beanName:this._templateParamBean}))return out.logError(rootStatement,this.CHECK_ERROR_IN_TEMPLATE_PARAMETER,[this._rootStatement]);out.templateParam=param,this._processTemplateContent({out:out,statement:rootStatement
})},__processStatement:function(e,t){var n=t.name;n.charAt(0)=="@"&&(n="@");var r=this.STATEMENTS[n];if(r==null)e.logError(t,this.UNKNOWN_STATEMENT,[n]);else if(r.container===!0&&t.content===undefined)e.logError(t,this.EXPECTED_CONTAINER,[n]);else if(r.container===!1&&t.content!==undefined)e.logError(t,this.UNEXPECTED_CONTAINER,[n]);else if(r.inMacro!==undefined&&e.isOutputReady()!==r.inMacro)r.inMacro?e.logError(t,aria.templates.Statements.SHOULD_BE_IN_MACRO,[n]):e.logError(t,this.SHOULD_BE_OUT_OF_MACRO,[n]
);else if(r.paramRegexp){var i=r.paramRegexp.exec(t.paramBlock);i==null?e.logError(t,this.INVALID_STATEMENT_SYNTAX,[n,r.paramRegexp]):(this._isDebug&&e.trackLine(t.lineNumber),r.process(e,t,i))}else this._isDebug&&e.trackLine(t.lineNumber),r.process(e,t,this)},__logError:function(e,t,n,r){n==null&&(n=[]),n.push(e.lineNumber),this.$logError(t,n,r)},_createBlocks:function(e){e.newBlock("classDefinition",0),e.newBlock("prototype",2),e.newBlock("globalVars",5),e.newBlock("initTemplate",3),e.newBlock("classInit",3
)},_writeClassDefHeaders:function(e){var t=e.templateParam;e.writeln("Aria.classDefinition({"),e.increaseIndent(),e.writeln("$classpath: ",e.stringify(t.$classpath),","),e.parentClasspath&&e.writeln("$extends: ",e.stringify(e.parentClasspath),","),e.parentClassType!="JS"&&e.writeln("$extendsType: ",e.stringify(e.parentClassType),",")},_getClassName:function(e){var t=e.split(".");return t[t.length-1]},_processInheritance:function(e){var t=e.templateParam;t.$extends?(e.parentClasspath=t.$extends,e.parentClassType=
this._classType):e.parentClasspath=this._superClass,e.parentClasspath&&(e.parentClassName=this._getClassName(e.parentClasspath))},_processScript:function(e){var t=e.templateParam;t.$hasScript&&(e.scriptClasspath=t.$classpath+"Script",e.scriptClassName=this._getClassName(e.scriptClasspath),e.addDependency(e.scriptClasspath))},_writeConstructor:function(e){e.writeln("$constructor: function() { "),e.increaseIndent();var t=e.parentClassName;t&&e.writeln("this.$",t,".constructor.call(this);");var n=e.scriptClassName
;n&&e.writeln("this.$",n,".constructor.call(this);"),e.decreaseIndent(),e.writeln("},")},_writeDestructor:function(e){e.writeln("$destructor: function() {"),e.increaseIndent();var t=e.scriptClassName;t&&e.writeln("this.$",t,".$destructor.call(this);");var n=e.parentClassName;n&&e.writeln("this.$",n,".$destructor.call(this);"),e.decreaseIndent(),e.writeln("},")},_writeDependencies:function(e){var t=e.templateParam,n=aria.utils.Json;e.writeln(e.getDependencies()),t.$res&&e.writeln("$resources: ",n.convertToJsonString
(t.$res),","),t.$templates&&e.writeln("$templates: ",n.convertToJsonString(t.$templates),","),t.$css&&e.writeln("$css: ",n.convertToJsonString(t.$css),",");if(t.$macrolibs){var r=aria.utils.Array.extractValuesFromMap(t.$macrolibs);r.length>0&&e.writeln("$macrolibs: ",n.convertToJsonString(r),",")}if(t.$csslibs){var i=aria.utils.Array.extractValuesFromMap(t.$csslibs);i.length>0&&e.writeln("$csslibs: ",n.convertToJsonString(i),",")}t.$texts&&e.writeln("$texts: ",n.convertToJsonString(t.$texts),",")},_writeMapInheritance
:function(e,t,n,r){if(e.parentClassType==this._classType){if(n){var i=e.newVarName();e.writeln("var ",i," = {};"),e.writeln("Aria.copyObject(proto.",t,",",i,");"),e.writeln("Aria.copyObject(",aria.utils.Json.convertToJsonString(n),",",i,");"),e.writeln("proto.",t," = ",i,";")}}else{var s=n?aria.utils.Json.convertToJsonString(n):r;e.writeln("proto.",t," = ",s,";")}},_writeValueInheritance:function(e,t,n,r){if(e.parentClassType==this._classType)n!=null&&e.writeln("proto.",t," = ",aria.utils.Json.convertToJsonString
(n),";");else{var i=n!=null?aria.utils.Json.convertToJsonString(n):r;e.writeln("proto.",t," = ",i,";")}},_writeClassInit:function(e){var t=e.scriptClasspath;t&&(e.enterBlock("classInit"),e.writeln("aria.core.TplClassLoader._importScriptPrototype("+t+",proto)"),e.leaveBlock());var n=e.getBlockContent("classInit");n.length>0&&(e.writeln("$init: function(proto) {"),e.increaseIndent(),e.write(n),e.decreaseIndent(),e.writeln("},"))},_writeInitTemplate:function(e){e.writeln("__$initTemplate: function() {"),e.increaseIndent
(),e.parentClassType==this._classType&&e.writeln("if (! this.$",e.parentClassName,".__$initTemplate.call(this)) { return false; }"),e.write(e.getBlockContent("initTemplate"));var t=e.getBlockContent("globalVars");t.length>0&&(e.writeln("try {"),e.increaseIndent(),e.writeln("with (this) {"),e.increaseIndent(),e.write(t),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("} catch (_ex) {"),e.increaseIndent(),e.writeln("this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex);"),e.writeln("return false;"
),e.decreaseIndent(),e.writeln("}")),e.writeln("return true;"),e.decreaseIndent(),e.writeln("}")},_writeClassDefEnd:function(e){e.writeln("$prototype: {"),e.increaseIndent(),e.write(e.getBlockContent("prototype")),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("})"),e.leaveBlock()},_processTemplateContent:function(e){var t=e.out,n=t.templateParam,r=e.statement;t.addDependencies(n.$dependencies),this._createBlocks(t),this._processInheritance(t),this._processScript(t),t.enterBlock("classDefinition"
),this._writeClassDefHeaders(t),this._writeConstructor(t),this._writeDestructor(t),t.leaveBlock(),t.processContent(r.content);if(t.errors){t.$dispose(),this.$callback(t.callback,{classDef:null}),t.errors=!1;return}t.enterBlock("prototype"),this._writeClassInit(t),this._writeInitTemplate(t),t.leaveBlock(),t.enterBlock("classDefinition"),this._writeDependencies(t),this._writeClassDefEnd(t),t.leaveBlock();var i=null;i=t.getBlockContent("classDefinition"),t.$dispose(),this.$callback(t.callback,{classDef:i,tree:t
.tree,debug:t.debug})}}});
//*******************
//LOGICAL-PATH:aria/templates/ClassWriter.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ClassWriter",$dependencies:["aria.utils.String"],$constructor:function(e,t){this._processStatement=e,this._processErrors=t,this._curindent="",this.indentUnit=" ",this._varNameNumber=0,this.errorContext=null,this.allDependencies=null,this.templateParam=null,this.parentClassType="JS",this.parentClassName=null,this.parentClasspath=null,this.scriptClassName=null,this.scriptClasspath=null,this.callback=null,this.wlibs={},this.macros={},this.views={},this._curblock=
null,this._blocks={},this._stack=[],this._dependencies=[],this.errors=!1,this.debug=!1,this.tree=null},$prototype:{addDependencies:function(e){for(var t=e.length-1;t>=0;t--)this.addDependency(e[t])},addDependency:function(e){this._dependencies[e]=1},getDependencies:function(){var e=[];for(var t in this._dependencies)this._dependencies.hasOwnProperty(t)&&e.push(this.stringify(t));return e.length>0?["$dependencies: [",e.join(","),"],"].join(""):""},getMacro:function(e){var t=this.macros[e];return t==null&&(t={
},this.macros[e]=t),t},getView:function(e){var t=this.views[e];return t==null&&(t={},this.views[e]=t),t},isOutputReady:function(){return this._curblock!=null},newBlock:function(e,t){var n={curindentnbr:t,out:[]};this._blocks[e]=n},enterBlock:function(e){this._stack.push(this._curblock),this._curblock=this._blocks[e],this.indentUnit&&this._curblock&&this._updateIndent()},leaveBlock:function(){this._curblock=this._stack.pop(),this.indentUnit&&this._curblock&&this._updateIndent()},getBlockContent:function(e){return this
._blocks[e].out.join("")},stringify:function(e){return this.stringify=aria.utils.String.stringify,this.stringify(e)},newVarName:function(){return this._varNameNumber++,"__v_"+this._varNameNumber+"_"+parseInt(10*Math.random(),10)},processContent:function(e){for(var t=0;t<e.length;t++)this.processStatement(e[t])},processStatement:function(e){this._processStatement.fn.call(this._processStatement.scope,this,e)},_updateIndent:function(){this._curindent=(new Array(1+this._curblock.curindentnbr)).join(this.indentUnit
)},logError:function(e,t,n){this.errors=!0,this._processErrors.fn.call(this._processErrors.scope,e,t,n,this.errorContext)},logWarn:function(e,t,n){this._processErrors.fn.call(this._processErrors.scope,e,t,n,this.errorContext)},increaseIndent:function(){this.indentUnit&&(this._curblock.curindentnbr++,this._curindent+=this.indentUnit)},decreaseIndent:function(){this.indentUnit&&(this._curblock.curindentnbr--,this._updateIndent())},writeln:function(){var e=this._curblock.out;this._curindent&&e.push(this._curindent
),e.push.apply(e,arguments),e.push("\n")},write:function(){var e=this._curblock.out;e.push.apply(e,arguments)},wrapExpression:function(e,t,n){var r=this.newVarName();return e=this.stringify(e),this.writeln("var "+r+" = null;"),this.writeln("try {"),this.increaseIndent(),e=e.substr(1,e.length-2),this.writeln('eval( "'+r+"=("+e+')" );'),this.decreaseIndent(),this.writeln("} catch (e) {"),this.increaseIndent(),this.writeln("this.$logError(",n,',["',e,'",',t.lineNumber,",",this.stringify(t.name),"], e);"),this.decreaseIndent
(),this.writeln("}"),r},trackLine:function(e){this._curblock&&this.writeln("this['"+Aria.FRAMEWORK_PREFIX+"currentLineNumber'] = "+e+";")}}});
//*******************
//LOGICAL-PATH:aria/templates/CmlClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CmlClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.CSSParser","aria.templates.CSSClassGenerator"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["CSSLibrary"]),this._parser=aria.templates.CSSParser,this._superClass="aria.templates.CSSTemplate",this._classType="CML",this._rootStatement="CSSLibrary",this._templateParamBean="aria.templates.CfgBeans.CSSLibraryCfg"},$prototype
:{_writeClassInit:function(e){aria.templates.CSSClassGenerator._writeClassInit.call(this,e)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.CSSParser"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["CSSTemplate"]),this._parser=aria.templates.CSSParser,this._superClass="aria.templates.CSSTemplate",this._classType="CSS",this._rootStatement="CSSTemplate",this._templateParamBean="aria.templates.CfgBeans.CSSTemplateCfg"},$prototype:{_writeClassInit:function(
e){var t=e.templateParam;e.enterBlock("classInit"),this._writeMapInheritance(e,"__$csslibs",e.templateParam.$csslibs,"{}"),this._writeValueInheritance(e,"__$prefix",e.templateParam.$prefix,"true"),e.leaveBlock(),this.$ClassGenerator._writeClassInit.call(this,e)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSCtxt.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSCtxt",$dependencies:["aria.templates.CfgBeans","aria.utils.String"],$implements:["aria.templates.ICSS"],$extends:"aria.templates.BaseCtxt",$constructor:function(e){this.$BaseCtxt.constructor.apply(this,arguments),this.tplClasspath=null,this.__cachedOutput=null,this.__prefix="",this.__prefixedText="",this.__numSelectors=NaN},$destructor:function(){if(this._tpl){try{this._tpl.$dispose()}catch(e){this.$logError(this.TEMPLATE_DESTR_ERROR,[this.tplClasspath],e)}
aria.templates.ICSS.prototype.$destructor.call(this._tpl),this._tpl=null}this.data=null,this.moduleRes=null,this.moduleCtrl=null,this.moduleCtrlPrivate=null,this.$BaseCtxt.$destructor.call(this)},$statics:{MEDIA_RULE:/@media\b/},$prototype:{initTemplate:function(e){if(!aria.core.JsonValidator.normalize({json:e,beanName:"aria.templates.CfgBeans.InitCSSTemplateCfg"}))return!1;this._cfg=e;var t=Aria.getClassInstance(e.classpath);if(!t)return this.$logError(this.TEMPLATE_CONSTR_ERROR,[e.classpath]),!1;this._tpl=
t,e.macro=this.checkMacro({name:"main",args:e.args}),this.tplClasspath=e.classpath,aria.templates.ICSS.call(t,this);var n=this;return t.__$write=function(){return n.__$write.apply(n,arguments)},t.__$initTemplate()?(this.__loadLibs(t.__$csslibs,"csslibs"),!0):!1},doPrefixing:function(){if(!this._tpl.__$prefix)return;return!this._cfg.isWidget},isWidget:function(){return this._cfg.isWidget},isTemplate:function(){return this._cfg.isTemplate},_getOutput:function(){if(this.__cachedOutput)return this.__cachedOutput
;this.$assert(156,this._out==null),this._out=[],this._callMacro(null,"main");var e=this._out.join("");return this._out=null,this.__cachedOutput=e,e},prefixText:function(e){var t=this._getOutput(),n="."+e+" ",r=this.__prefixingAlgorithm(t,n);this.__prefixedText=r.text,this.__numSelectors=r.selectors},__prefixingAlgorithm:function(e,t){var n=e.split("}"),r=n.length;if(r<2)return{text:e,selectors:0};var i=aria.utils.String.trim,s=this.MEDIA_RULE,o,u,a,f=0;for(var l=0;l<r;l+=1){o=n[l].split("{"),u=i(o[0]);if(!u)
continue;var c=s.test(u);if(c){o[0]=u,u=i(o[1]);if(!u)continue}u=u.split(","),a=[];for(var h=0,p=u.length;h<p;h+=1)a.push(t+i(u[h])),f+=1;c?(a[0]="\n"+a[0],o[1]=a.join(", ")):o[0]=a.join(", "),n[l]=o.join(" {")}return{text:n.join("}\n"),selectors:f}},getText:function(){return this.doPrefixing()?this.__prefixedText:this._getOutput()},getNumLines:function(){return this.__numSelectors},__$write:function(e){this._out=this._out.concat(e)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSCtxtManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSCtxtManager",$dependencies:["aria.templates.CSSCtxt"],$singleton:!0,$constructor:function(){this._contexts={}},$destructor:function(){this.reset()},$prototype:{getContext:function(e,t){var n=this._contexts[e];return n||(n=new aria.templates.CSSCtxt,t||(t={}),t.classpath=e,n.initTemplate(t),this._contexts[e]=n),n},disposeContext:function(e){var t=this._contexts[e];t&&(t.$dispose(),delete this._contexts[e])},reset:function(){var e=[],t=this._contexts;for(var n in 
t)t.hasOwnProperty(n)&&(e.push(n),t[n].$dispose());return this._contexts={},e}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSMgr.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSMgr",$singleton:!0,$dependencies:["aria.templates.CSSCtxtManager","aria.utils.Array","aria.utils.Object","aria.utils.AriaWindow"],$statics:{__NEXT_PREFIX_INDEX:0,__PREFIX:"CSS",__NEXT_TAG_INDEX:1,__TAG_PREFX:"xCss",CSSTEMPLATE_MAX_SELECTORS_REACHED:"More than 4000 CSS selectors are loaded at the same time. Please check your CSS Templates"},$events:{dependenciesLoaded:{description:"",properties:{templateClasspath:"{String} classpath of the template for which the dependencies are loaded"
}},dependenciesUnloaded:{description:"",properties:{templateClasspath:"{String} classpath of the template for which the dependencies are unloaded"}},styleChange:{description:"",properties:{templateClasspath:"{String} classpath of the template that caused the style tag to change"}}},$constructor:function(){this.__cssUsage={},this.__globalUsage={},this.__prefixes={},this.__pathsLoaded=[],this.__textLoaded={},this.__styleTagAssociation={},this.__styleTagPool={},this.__cssDependencies={},this.__invalidClasspaths=
{},this.__invalidStack=[],this.__isStopped=!1,this.__queuedChanges=[],this.__attachedToWindow=!1,aria.utils.AriaWindow.$on({unloadWindow:this.reset,scope:this})},$destructor:function(){this.reset(),this.__styleTagPool=null,aria.utils.AriaWindow.$unregisterListeners(this)},$prototype:{__checkAttachedToWindow:function(){this.__attachedToWindow||(this.__attachedToWindow=!0,aria.utils.AriaWindow.attachWindow())},loadDependencies:function(e){this.$assert(133,e.$TemplateCtxt);var t=e.getCSSDependencies(),n=e.tplClasspath
,r=this.loadClassPathDependencies(n,t,{isTemplate:!0});return r.changes&&this.$raiseEvent({name:"styleChange",templateClasspath:n}),this.$raiseEvent({name:"dependenciesLoaded",templateClasspath:n}),r.classes},loadWidgetDependencies:function(e,t){if(this.__cssDependencies[e])t=this.__cssDependencies[e];else{var n=Aria.getClassRef(e),r={};if(t)for(var i=0,s=t.length;i<s;i++)r[t[i]]=!0;n=n.superclass;while(n){var o=n.$css;if(o)for(var i=0,s=o.length;i<s;i++)r[o[i]]=!0;n=n.constructor.superclass}t=aria.utils.Object
.keys(r),this.__cssDependencies[e]=t}var u={isWidget:!0};this.loadClassPathDependencies(e,t,u)},loadClassPathDependencies:function(e,t,n){if(!t)return;var r=[],i=[];for(var s=0,o=t.length;s<o;s+=1){var u=t[s],a={};for(var f in n)n.hasOwnProperty(f)&&(a[f]=n[f]);r=this.__load(e,u,a).concat(r),this.__prefixes[u]&&i.push(this.__prefixes[u])}return r.length&&this.__textToDOM(r),{classes:i,changes:!!r.length}},__load:function(e,t,n){this.$assert(195,e&&t);var r=this.__cssUsage[t],i=[];if(r&&r.length){r.push(e),this
.__pathsLoaded.push(t);if(!this.__invalidClasspaths[t])return[]}else this.__cssUsage[t]=[e];delete this.__invalidClasspaths[t];var s=aria.templates.CSSCtxtManager.getContext(t,n);t=="aria.templates.GlobalStyle"&&this.__getPrefix(t),t=="aria.widgets.GlobalStyle"&&this.__getPrefix(t);if(s.doPrefixing()){var o=this.__getPrefix(t);s.prefixText(o)}this.__textLoaded[t]={text:s.getText(),lines:s.getNumLines()};var u=this.__getStyleTag(s);return this.__styleTagAssociation[t]=u,this.__pathsLoaded.push(t),[u]},__getStyleTag
:function(e){var t=e.tplClasspath,n=this.__styleTagAssociation[t];return n?n:(e.isTemplate()?n="tpl":e.isWidget()?n="wgt":(n="pool"+this.__NEXT_TAG_INDEX,this.__NEXT_TAG_INDEX+=1),n)},unloadWidgetDependencies:function(e,t){this.__cssDependencies[e]&&(t=this.__cssDependencies[e]),this.unloadClassPathDependencies(e,t)},unloadClassPathDependencies:function(e,t){if(!t)return;for(var n=0,r=t.length;n<r;n+=1){var i=t[n];this.__unload(e,i)}},unloadDependencies:function(e){this.$assert(169,e.$TemplateCtxt);var t=e.getCSSDependencies
(),n=e.tplClasspath;this.unloadClassPathDependencies(n,t),this.$raiseEvent({name:"dependenciesUnloaded",templateClasspath:n})},__getPrefix:function(e){var t=this.__prefixes[e];return t||(t=this.__PREFIX+this.__NEXT_PREFIX_INDEX,this.__NEXT_PREFIX_INDEX+=1,this.__prefixes[e]=t),t},__unload:function(e,t){this.$assert(230,e&&t);var n=aria.utils.Array.remove,r=this.__cssUsage[t];r&&r.length&&(n(r,e),n(this.__pathsLoaded,t),r.length||(delete this.__cssUsage[t],delete this.__textLoaded[t],delete this.__styleTagAssociation
[t]))},__textToDOM:function(e){if(this.__isStopped){this.__queuedChanges=e.concat(this.__queuedChanges);return}var t=this.__sortPaths(),n=this.__textLoaded,r=0,i={},s=aria.utils.Array;for(var o=0,u=t.length;o<u;o+=1){var a=t[o],f=this.__styleTagAssociation[a];if(!s.contains(e,f))continue;i[f]||(i[f]=[]),i[f].push("/**",a,"**/",this.__textLoaded[a].text),r+=this.__textLoaded[a].lines||0}return r>4e3&&this.$logWarn(this.CSSTEMPLATE_MAX_SELECTORS_REACHED),this.__reloadStyleTags(i)},__sortPaths:function(){var e=
aria.utils.Object.keys(this.__textLoaded),t=this.__prefixes,n=this.__PREFIX.length,r=function(e,r){var i=t[e]?parseInt(t[e].substring(n),10):Number.MAX_VALUE,s=t[r]?parseInt(t[r].substring(n),10):Number.MAX_VALUE;return i===s?0:i>s?1:-1},i=e.sort(r);return t=null,n=null,i},__reloadStyleTags:function(e){for(var t in e){if(!e.hasOwnProperty(t))continue;var n=this.__buildStyleIfMissing(t),r=e[t].join("\n");if(n.styleSheet)n.styleSheet.cssText=r;else{var i=Aria.$window.document.createTextNode(r);n.firstChild?n.replaceChild
(i,n.firstChild):n.appendChild(i)}n=null}},__buildStyleIfMissing:function(e){var t=this.__styleTagPool[e];if(!t){var n=Aria.$window.document,r=n.getElementsByTagName("head")[0];t=n.createElement("style"),t.id=this.__TAG_PREFX+e,t.type="text/css",t.media="all",r.appendChild(t),t=r.lastChild,this.__styleTagPool[e]=t}return t},reset:function(){for(var e in this.__styleTagPool)this.__styleTagPool.hasOwnProperty(e)&&this.__styleTagPool[e].parentNode.removeChild(this.__styleTagPool[e]);this.__attachedToWindow&&(aria
.utils.AriaWindow.detachWindow(),this.__attachedToWindow=!1),this.__styleTagPool={},this.__textLoaded={},this.__pathsLoaded=[],this.__prefixes={},this.__cssUsage={},this.__styleTagAssociation={},this.__invalidClasspaths={},this.__cssDependencies={},this.__PREFIX=this.classDefinition.$statics.__PREFIX,this.__NEXT_PREFIX_INDEX=this.classDefinition.$statics.__NEXT_PREFIX_INDEX,this.__NEXT_TAG_INDEX=this.classDefinition.$statics.__NEXT_TAG_INDEX,this.__TAG_PREFX=this.classDefinition.$statics.__TAG_PREFX},invalidate
:function(e,t){aria.templates.CSSCtxtManager.disposeContext(e),!this.__invalidClasspaths[e]&&t&&(this.__invalidClasspaths[e]=!0,this.__invalidStack.push(e))},stop:function(){this.__isStopped=!0},resume:function(){this.__isStopped=!1;var e=this.__queuedChanges;this.__queuedChanges=[];if(e.length>0)return this.__textToDOM(e)},registerDependencies:function(e,t){for(var n=0,r=t.length;n<r;n++){var i=t[n];this.__globalUsage[i]||(this.__globalUsage[i]=[]),this.__globalUsage[i].push(e)}},unregisterDependencies:function(
e,t,n,r){var i=aria.utils.Array,s=aria.core.ClassMgr;for(var o=0,u=t.length;o<u;o++){var a=t[o],f=this.__globalUsage[a];i.remove(f,e),n&&(s.unloadClass(a,r),this.invalidate(a,f.length>0))}},getInvalidClasspaths:function(e){var t=this.__invalidStack;return e&&(this.__invalidStack=[]),t}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSParser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSParser",$extends:"aria.templates.Parser",$dependencies:["aria.utils.String"],$singleton:!0,$statics:{MISSING_OPENINGBRACES:"line %1: Template parsing error: could not find corresponding '{'."},$prototype:{parseTemplate:function(e,t,n){return this.context=t,this._prepare(e),this.__preprocess(n)?(this._computeLineNumbers(),this._buildTree()):null},__preprocess:function(e){var t=this.template,n=aria.utils.String,r=0,i=-1,s=-1,o=[],u=/^\{[\s\/]*?([\w]+)\b/,a=0,
f=t.length,l=-1,c=0,h=-1;while(a<f){i<r&&(i=n.indexOfNotEscaped(t,"{",r)),s<r&&(s=n.indexOfNotEscaped(t,"}",r));if(i>-1&&(s>i||s==-1)){c===0&&(h=i),c++;if(l==-1)if(t.charAt(i-1)=="$")l=c;else{var p=t.substring(i,s),d=u.exec(p);d&&e[d[1]]?l=c:(o.push(t.substring(a,i)),o.push("\\{"),a=i+1)}r=i+1}else if(s>-1){if(c===0)return this._computeLineNumbers(),this.$logError(this.MISSING_OPENINGBRACES,[this.positionToLineNumber(s)],this.context),!1;l==c?l=-1:l==-1&&(o.push(t.substring(a,s)),o.push("\\}"),a=s+1),c--,r=s+1
}else this.$assert(94,i==-1&&s==-1),r=f,o.push(t.substring(a,f)),a=f}return c>0?(this._computeLineNumbers(),this.$logError(this.MISSING_CLOSINGBRACES,[this.positionToLineNumber(h)],this.context),!1):(this.template=o.join(""),!0)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSTemplate.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSTemplate",$extends:"aria.templates.BaseTemplate",$dependencies:["aria.templates.ICSS"],$constructor:function(){this.$BaseTemplate.constructor.call(this);var e=aria.core.Cache.getFilename(this.$classpath),t=aria.core.DownloadMgr.resolveURL(e,!0);this.cssPath="/"+this.$classpath.replace(/\./g,"/"),this.cssFolderPath=t.substring(0,t.lastIndexOf("/"))},$destructor:function(){this.$BaseTemplate.$destructor.call(this)},$prototype:{$init:function(e,t){e.$BaseTemplate
.constructor.classDefinition.$prototype.$init(e,t);var n=aria.templates.ICSS.prototype;for(var r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}}});
//*******************
//LOGICAL-PATH:aria/templates/DomElementWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.Dom","aria.utils.DomOverlay","aria.utils.ClassList","aria.utils.sandbox.DOMProperties"],$constructor:function(e,t){if(e&&e.nodeType)while(e.nodeType!=1)e=e.parentNode;var n=e.tagName;this.tagName=n,this.getChild=function(t){var n=aria.utils.Dom.getDomElementChild(e,t);return n?new aria.templates.DomElementWrapper(n):null},this.getAttribute=function(t){if(!this.attributesWhiteList.test(t))return this.$logError(this.
INVALID_ATTRIBUTE_NAME,[t]),null;var n=e.attributes[t];return n?n.value:null},this.getData=function(t,n){if(!/^\w+$/.test(t)||t.charAt(0)=="_")return this.$logError(this.INVALID_EXPANDO_NAME,[t]),null;var r="_"+t,i="data-"+t,s=e.attributes[r]||e.attributes[i];e.attributes[r]!=null&&this.$logWarn("The '_' usage is deprecated for the expando %1, please use the dataset html attribute instead.",[r]);if(!s&&n){var o=e.parentNode;while(!s&&o!=null&&o.attributes!=null)s=o.attributes[r]||o.attributes[i],e.attributes
[r]!=null&&this.$logWarn("The '_' usage is deprecated for the expando %1, please use the dataset html attribute instead.",[r]),o=o.parentNode}return s?s.value:null},this.getParentWithData=function(t){if(!/^\w+$/.test(t)||t.charAt(0)=="_")return this.$logError(this.INVALID_EXPANDO_NAME,[t]),null;var n="data-"+t,r=e,i=r.attributes[n];while(!i&&r.parentNode!=null)r=r.parentNode,r.attributes&&(i=r.attributes[n]);return i?new aria.templates.DomElementWrapper(r):null},this.classList=new aria.utils.ClassList(e),this
.focus=function(){try{return e.focus()}catch(t){this.$logDebug(this.FOCUS_FAILURE,e)}},this.setStyle=function(t){e.style.cssText=t},this.getProperty=function(t){if(aria.utils.sandbox.DOMProperties.isReadSafe(n,t))return e[t];this.$logError(this.READ_ACCESS_DENIED,[t,n])},this.setProperty=function(t,r){aria.utils.sandbox.DOMProperties.isWriteSafe(n,t)?e[t]=r:this.$logError(this.WRITE_ACCESS_DENIED,[t,n])},this.getParentWithName=function(t){if(!t||!e)return null;var n=Aria.$window.document.body;t=t.toUpperCase
();var r=e.parentNode;while(r&&r!=n){if(r.nodeName==t)return new aria.templates.DomElementWrapper(r);r=r.parentNode}return null},this.setProcessingIndicator=function(n,r){var i,s=!0;n?i=aria.utils.DomOverlay.create(e,r):(i=aria.utils.DomOverlay.detachFrom(e,r),i||(s=!1)),t&&s&&t.registerProcessingIndicator(n,i)},this.scrollIntoView=function(t){aria.utils.Dom.scrollIntoView(e,t)},this.getScroll=function(){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}},this.setScroll=function(t){t&&(t.hasOwnProperty("scrollLeft"
)&&t.scrollLeft!=null&&(e.scrollLeft=t.scrollLeft),t.hasOwnProperty("scrollTop")&&t.scrollTop!=null&&(e.scrollTop=t.scrollTop))},this._dispose=function(){this.setProcessingIndicator(!1),e=null,t=null,this.getChild=null,this.classList.$dispose(),this.getData=null,this.getAttribute=null,this.getProperty=null,this.setProperty=null,this.focus=null,this.setStyle=null,this.getParentWithName=null,this.getParentWithData=null,this.setProcessingIndicator=null}},$destructor:function(){this._dispose&&(this._dispose(),this
._dispose=null)},$statics:{attributesWhiteList:/^(name|title|style|dir|lang|abbr|height|width|size|cols|rows|rowspan|colspan|nowrap|valign|align|border|cellpadding|cellspacing|disabled|readonly|checked|selected|multiple|value|alt|maxlength|type|accesskey|tabindex|placeholder)$/,INVALID_EXPANDO_NAME:"Invalid expando name: '%1'.",INVALID_ATTRIBUTE_NAME:"Invalid attribute name: '%1'.",FOCUS_FAILURE:"Could not focus element",READ_ACCESS_DENIED:"Access to property %1 of tag %2 is not allowed.",WRITE_ACCESS_DENIED
:"Write access to property %1 of tag %2 is not allowed."},$prototype:{getChild:function(e){},getAttribute:function(e){},getData:function(e,t){},getParentWithData:function(e){},focus:function(){},setStyle:function(e){},getValue:function(){return this.getProperty("value")},setValue:function(e){this.setProperty("value",e)},_dispose:function(){},getParentWithName:function(e){},setProcessingIndicator:function(e,t){},scrollIntoView:function(e){},getScroll:function(){},setScroll:function(e){}}});
//*******************
//LOGICAL-PATH:aria/templates/DomEventWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.DomEventWrapper",$extends:"aria.DomEvent",$dependencies:["aria.templates.DomElementWrapper"],$constructor:function(e){var t=aria.templates.DomElementWrapper;this.$DomEvent.constructor.call(this,e),this.target=this.target?new t(this.target):null,this.relatedTarget=this.relatedTarget?new t(this.relatedTarget):null},$destructor:function(){this.target&&(this.target.$dispose(),this.target=null),this.relatedTarget&&(this.relatedTarget.$dispose(),this.relatedTarget=null
),this.$DomEvent.$destructor.call(this)},$prototype:{setTarget:function(e){this.target&&this.target.$dispose(),this.target=e?new aria.templates.DomElementWrapper(e):null}}});
//*******************
//LOGICAL-PATH:aria/templates/FlowCtrl.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.FlowCtrl",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IFlowCtrl"],$dependencies:["aria.utils.String"],$constructor:function(){this.$PublicWrapper.constructor.call(this)},$destructor:function(){this.moduleCtrl=null,this.data=null,this.$PublicWrapper.$destructor.call(this)},$prototype:{$publicInterfaceName:"aria.templates.IFlowCtrl",setModuleCtrl:function(e){this.moduleCtrl=e},oninitCallback:function(e){this.data=this.moduleCtrl.getData(
)}}});
//*******************
//LOGICAL-PATH:aria/templates/GlobalStyle.tpl.css
//*******************
{CSSTemplate {
    $classpath : "aria.templates.GlobalStyle"
}}

{macro main()}

.xLDI-text {
    position: relative;
    top: 50%;
    display:block;
    text-align:center;
    padding-top: 20px;
}

.xLDI {
	/* These default values can be overridden in the skin */
    background-color: #fff;
    {call opacity(80)/}
    width: 100%;
    height: 100%;
}

.xOverlay {
	/* These default values can be overridden in the skin */
    background-color: #ddd;
    border: 1px solid black;
    {call opacity(40)/}
}

.xModalMask-default {
    width:100%;
    height:100%;
    background-color: black;
    {call opacity(40)/}
}

.xOverflowAuto {
    overflow: auto;
}

.xOverflowHidden {
    overflow: hidden;
}

.xOverflowXAuto {
    overflow-x: auto;
}

.xOverflowYAuto {
    overflow-y: auto;
}

.xOverflowXHidden {
    overflow-x: hidden;
}

.xOverflowYHidden {
    overflow-y: hidden;
}

/* template div container style */
.xTplContent {
}

{/macro}

{macro opacity(percent)}
    filter: alpha(opacity=${percent});
    -moz-opacity: ${percent/100};
    opacity: ${percent/100};
{/macro}

{/CSSTemplate}
//*******************
//LOGICAL-PATH:aria/templates/IBaseTemplate.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IBaseTemplate",$events:{},$interface:{__$write:function(e){}}});
//*******************
//LOGICAL-PATH:aria/templates/ICSS.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ICSS",$extends:"aria.templates.IBaseTemplate",$events:{},$interface:{prefix:"Object"}});
//*******************
//LOGICAL-PATH:aria/templates/IFlowCtrl.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IFlowCtrl",$interface:{}});
//*******************
//LOGICAL-PATH:aria/templates/IModuleCtrl.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IModuleCtrl",$events:{methodCallBegin:{description:"",properties:{method:"Name of the method about to be called."}},methodCallEnd:{description:"",properties:{method:"Name of the method which was called."}},methodCallback:{description:"",properties:{method:"Name of the method which was called."}},beforeDispose:{description:"",properties:{reloadingObject:"If the module controller is about to be reloaded, it contains an object which raises an 'objectLoaded' event when the module controller is reloaded."
}}},$interface:{init:{$type:"Function",$callbackParam:1},getData:function(){},setData:function(e,t){},getResourceSet:function(){},getSubModuleCtrl:function(e){},registerListener:function(e){},unregisterListeners:function(e){},setSession:function(e){}}});
//*******************
//LOGICAL-PATH:aria/templates/IObjectLoading.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IObjectLoading",$events:{objectLoaded:{description:"",properties:{object:"Reference to the object just loaded."}}},$interface:{}});
//*******************
//LOGICAL-PATH:aria/templates/ITemplate.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplate",$extends:"aria.templates.IBaseTemplate",$events:{SectionRefreshed:{description:"",properties:{sectionID:"{String} ID of the section which has been refreshed - if defined, null otherwise."}}},$interface:{data:"Object",moduleCtrl:"Object",flowCtrl:"Object",moduleRes:"Object",$refresh:function(e){},$getChild:function(e,t){},$getElementById:function(e){},$focus:function(e){},$getFocusedWidget:function(){},$setFocusedWidget:function(){},$hdim:function(
e,t,n){},$vdim:function(e,t,n){},$getId:function(e){},getContainerScroll:function(){},setContainerScroll:function(e){},__$writeId:function(e){},__$processWidgetMarkup:function(e,t,n,r){},__$beginContainerWidget:function(e,t,n,r){},__$endContainerWidget:function(){},__$statementOnEvent:function(e,t,n){},__$statementRepeater:function(e,t){},__$createView:function(e,t,n){},__$beginSection:function(e,t,n,r){},__$endSection:function(){},__$bindAutoRefresh:function(){}}});
//*******************
//LOGICAL-PATH:aria/templates/ITemplateCtxt.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplateCtxt",$interface:{tplClasspath:"Object",moduleCtrl:"Object",moduleCtrlPrivate:"Object",moduleRes:"Object",flowCtrl:"Object",flowCtrlPrivate:"Object",data:"Object",$reload:"Function"}});
//*******************
//LOGICAL-PATH:aria/templates/Layout.js
//*******************
(function(){var e,t,n,r,i={width:{},height:{}},s,o=null,u=function(){o==null&&(o=[],aria.utils.AriaWindow.attachWindow(),n.addListener(Aria.$window,"resize",{fn:c}))},a=function(){r&&(t.cancelCallback(r),r=null),o!=null&&(n.removeListener(Aria.$window,"resize",{fn:c}),aria.utils.AriaWindow.detachWindow(),o=null)},f=function(){o==null&&e._listeners&&e._listeners.viewportResized?u():o!=null&&o.length===0&&(e._listeners==null||e._listeners["viewportResized"]==null)&&a()},l=function(t){var n;if(t.min!=null||t.max!=
null)n=Aria.minSizeMode&&t.min!=null?t.min:t.viewport,n!=null?(t.scrollbar&&(n-=e.getScrollbarsWidth()),t.min!=null&&n<t.min&&(n=t.min),t.max!=null&&n>t.max&&(n=t.max)):t.min==t.max&&(n=t.min);t.value=n},c=function(){r&&(t.cancelCallback(r),r=null),r=t.addCallback({fn:p,scope:e,delay:50})},h=function(){var t=e.viewportSize,n=aria.utils.Dom._getViewportSize();return n.width!=t.width||n.height!=t.height?(e.viewportSize=n,e.setSOViewport(i.width,n.width),e.setSOViewport(i.height,n.height),!0):!1},p=function(){r=
null;if(h()){var t=o.length;for(var n=0;n<t;n++){var i=o[n];e.setDivSize(i.domElt,i.width,i.height);var s=aria.templates.TemplateCtxtManager.getFromDom(i.domElt);if(s){var u=!1;s.$setViewportWidth(d(i.width,"width"))&&(u=!0),s.$setViewportHeight(d(i.height,"height"))&&(u=!0),u&&s.$refresh()}}h(),e.$raiseEvent({name:"viewportResized",viewportNewSize:e.viewportSize})}},d=function(t,n){return typeof t=="object"&&(t=e.getSODim(i[n],t.min,t.incrementFactor,t.max)),t};Aria.classDefinition({$classpath:"aria.templates.Layout"
,$dependencies:["aria.templates.CfgBeans","aria.templates.TemplateCtxtManager","aria.utils.Event","aria.core.Browser","aria.utils.Dom","aria.utils.AriaWindow"],$singleton:!0,$events:{viewportResized:{description:"",properties:{viewportNewSize:"{Object} New size of the viewport"}}},$constructor:function(){e=this,t=aria.core.Timer,h(),n=aria.utils.Event},$destructor:function(){a(),e=null,t=null,n=null},$statics:{LAYOUT_INCOHERENT_MIN_MAX:"Error while setting size configuration: min (%1) > max (%2).",MINSIZE_UNDEFINED
:"vdim or hdim cannot be used if container has no minimum size."},$prototype:{viewportSize:{width:null,height:null},$on:function(){this.$JsObject.$on.apply(this,arguments),f()},$unregisterListeners:function(){this.$JsObject.$unregisterListeners.apply(this,arguments),f()},$addListeners:function(){this.$JsObject.$addListeners.apply(this,arguments),f()},$removeListeners:function(){this.$JsObject.$removeListeners.apply(this,arguments),f()},registerAutoresize:function(e,t,n){o==null&&u(),o.push({domElt:e,width:t,
height:n})},unregisterAutoresize:function(e){if(o==null)return;var t=o.length,n=[];for(var r=0;r<t;r++){var i=o[r];i.domElt!=e&&n.push(i)}o=n,n.length===0&&f()},setRootDim:function(e){aria.core.JsonValidator.check(e,"aria.templates.CfgBeans.RootDimCfg"),this.setSOSizeCfg(i.width,e.width),this.setSOSizeCfg(i.height,e.height)},realWidth:function(e){return d(e,"width")},realHeight:function(e){return d(e,"height")},setDivSize:function(e,t,n,r){r==null&&(r="auto"),t=d(t,"width"),n=d(n,"height");var i=e.style;t&&(
i.width=t+"px"),n&&(i.height=n+"px");var s="";if(t!=null||n!=null)r=="auto"?s=" xOverflowAuto":r=="hidden"&&(s=" xOverflowHidden");var o=e.className;o?(o=o.replace(/\s*xOverflow\w+/g,""),o+=s):o=s,e.className=o},setSOSizeCfg:function(e,t){t.value!=null&&(t.min=t.value,t.max=t.value),e.min=t.min,e.max=t.max,e.scrollbar=t.scrollbar,e.min!=null&&e.max!=null&&e.min>e.max&&(this.$logError(this.LAYOUT_INCOHERENT_MIN_MAX,[e.min,e.max]),e.max=undefined),l(e)},setSOViewport:function(e,t){e.viewport=t,l(e)},getSODim:function(
e,t,n,r){var i=e.min;if(i==null)return this.$logError(this.MINSIZE_UNDEFINED),t;var s=e.value;n==null&&(n=1);var o=parseInt(t+(s-i)*n,10);return r!=null&&o>r&&(o=r),o},getScrollbarsWidth:function(){if(s!=null)return s;var e=Aria.$window.document,t=e.createElement("div"),n=e.createElement("div");return t.style.overflow="",t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.style.width="500px",t.style.height="500px",aria.core.Browser.isIE7||(n.style.width="100%"),n.style.height="100%",
e.body.appendChild(t),t.appendChild(n),s=n.offsetWidth,t.style.overflow="scroll",s-=n.offsetWidth,e.body.removeChild(t),s}}})})();
//*******************
//LOGICAL-PATH:aria/templates/MarkupWriter.js
//*******************
(function(){Aria.classDefinition({$classpath:"aria.templates.MarkupWriter",$dependencies:["aria.templates.Section","aria.utils.Delegate","aria.templates.DomEventWrapper","aria.utils.Type"],$constructor:function(e,t){var n=t?t.filterSection:null;this._out=[],this._ctrlStack=[],this.tplCtxt=e,this.sectionState=n?this.SECTION_SEARCHING:this.SECTION_KEEP,this.write=n?this.__writeSkip:this.__writeOK,this._filterSection=n,this._topSection=n?null:new aria.templates.Section(this.tplCtxt,null,{isRoot:!0,ownIdMap:t&&t
.ownIdMap}),this._currentSection=this._topSection,this._delegateMap=null},$destructor:function(){this._currentSection=null,this._delegateMap=null,this._topSection&&(this._topSection.$dispose(),this._topSection=null)},$statics:{SECTION_SEARCHING:0,SECTION_KEEP:1,SECTION_SKIP:2,SECTION_FILTER_NOT_FOUND:"Error while refreshing template '%1': filter section '%2' was not found."},$prototype:{skipContent:!1,_beginSectionOrRepeater:function(e,t){if(this.sectionState==this.SECTION_SKIP)return;var n=e.id;if(this.sectionState!=
this.SECTION_KEEP&&n!=this._filterSection)return;var r=new t(this.tplCtxt,e);if(!r.cfgOk){r.$dispose();return}this.sectionState==this.SECTION_KEEP?(this._currentSection&&this._currentSection.addSubSection(r),r.writeBegin(this)):(this.sectionState=this.SECTION_KEEP,this.write=this.__writeOK),this._currentSection=r,r.writeContent(this)},repeater:function(e){this._beginSectionOrRepeater(e,aria.templates.Repeater),this.endSection()},beginSection:function(e){this._beginSectionOrRepeater(e,aria.templates.Section)}
,endSection:function(){if(this.sectionState!=this.SECTION_KEEP)return;var e=this._currentSection;e.id==this._filterSection?(this._topSection=this._currentSection,this.sectionState=this.SECTION_SKIP,this.write=this.__writeSkip):this.sectionState==this.SECTION_KEEP&&(e.writeEnd(this),this._currentSection=e.parent),this.$assert(99,!!this._currentSection)},addToCtrlStack:function(e){this._ctrlStack.push(e)},removeFromCtrlStack:function(){return this._ctrlStack.pop()},__writeOK:function(e){if(this._delegateMap)if(
e||e===0){e=""+e;var t=e.indexOf(">");if(t!=-1){var n=this._delegateMap;this._delegateMap=null;var r=function(e){var t=new aria.templates.DomEventWrapper(e),r=!0,i=n[e.type];return i&&(r=i.call(t)),t.$dispose(),r},i=aria.utils.Delegate.add(r);this._currentSection.delegateIds.push(i),this._out.push(e.substring(0,t)),this._out.push(" "+aria.utils.Delegate.getMarkup(i)),this._out.push(e.substring(t));return}}this._out.push(e)},__writeSkip:function(){},pushDelegate:function(e,t){if(!this._currentSection)return;var n=
aria.utils.Delegate;if(this.sectionState!=this.SECTION_KEEP)return;if(!n.isDelegated(e)){var r=n.add(t);this._currentSection.delegateIds.push(r),this.write(n.getFallbackMarkup(e,r,!0));return}t=new aria.utils.Callback(t),this._currentSection.delegateCallbacks.push(t),this._delegateMap||(this._delegateMap={}),this._delegateMap[e]=t},registerBehavior:function(e){this._currentSection&&this._currentSection.addBehavior(e)},callMacro:function(e){this.tplCtxt._callMacro(this,e)},getSection:function(){var e=this._topSection
;return e?(e.html=this._out.join(""),this._delegate=null):this.$logError(this.SECTION_FILTER_NOT_FOUND,[this.tplCtxt.tplClasspath,this._filterSection]),this._out=null,this._topSection=null,e}}})})();
//*******************
//LOGICAL-PATH:aria/templates/Modifiers.js
//*******************
(function(){var e,t={eat:{fn:function(){return""}},escape:{init:function(e){e.addDependencies(["aria.utils.String"])},fn:function(e){return aria.utils.String.escapeHTML(String(e))}},escapeforhtml:{init:function(e){e.addDependencies(["aria.utils.String"])},fn:function(e,t){return e==null?e:aria.utils.String.escapeForHTML(e+"",t)}},capitalize:{fn:function(e){return String(e).toUpperCase()}},"default":{fn:function(e,t,n){return e!=null?e:n?aria.templates.Modifiers.callModifier(n,[t]):t}},empty:{fn:function(e,t,
n){return!!e&&!/^\s*$/.test(e)?e:n?aria.templates.Modifiers.callModifier(n,[t]):t}},pad:{fn:function(e,t,n){e=""+e;var r=e.length;if(r<t){var i=n===!0,s=[],o=t-r,u="&nbsp;";i||s.push(e);for(var a=0;o>a;a++)s.push(u);return i&&s.push(e),s.join("")}return e}},dateformat:{init:function(e){e.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(e,t){if(aria.utils.Type.isDate(e))return aria.utils.Date.format(e,t);this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[e])}},timeformat:{init
:function(e){e.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(e,t){if(aria.utils.Type.isDate(e))return aria.utils.Date.format(e,t);this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[e])}},highlightfromnewword:{init:function(e){e.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(t,n){var r=aria.utils,i=n.length;if(r.Type.isString(t)&&i){n=n.toLowerCase();var s=t.toLowerCase(),o;if(s.indexOf(n)===0)o=0;else{var u=n.replace(e,"\\$1"),a=(new RegExp("\\s"+u
,"i")).exec(s);if(!a)return t;o=a.index+1}var f=o,l=o+i,c=t.substring(f,l),h=r.String.stripAccents(c).toLowerCase();if(h===n)return t.substring(0,f)+"<strong>"+c+"</strong>"+t.substring(l)}return t}},starthighlight:{init:function(e){e.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(e,t){if(aria.utils.Type.isString(e)&&t.length){var n=aria.utils.String.stripAccents(e.substring(0,t.length)).toLowerCase();t=t.toLowerCase();if(n===t)return"<strong>"+e.substring(0,t.length)+"</strong>"+e.substring
(t.length)}return e}},highlight:{init:function(e){e.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(t,n){if(aria.utils.Type.isString(t)&&aria.utils.Type.isString(n)){var r=t.split(" "),i=n.split(" ").sort(function(e,t){var n=e.length,r=t.length;return n===r?0:n<r?1:-1});return aria.utils.Array.forEach(r,function(t,n,r){for(var s=0,o=i.length;t&&s<=o;s+=1){if(i[s]==null||i[s]==="")continue;var u=i[s].replace(e,"\\$1"),a=new RegExp("\\b"+u,"gim");!u.match(/\(/)||(a=new RegExp("[\\b\\(]"+u
.replace("\\(",""),"gim"));var f=a.exec(t);if(f!=null&&f.length>0){var l="<strong>"+f[0]+"</strong>";r[n]=t.replace(a,l);if(!!t.match(a))break}}}),r.join(" ")}return t}}};Aria.classDefinition({$classpath:"aria.templates.Modifiers",$singleton:!0,$constructor:function(){e=new RegExp("(\\"+"/.*+?|()[]{}\\".split("").join("|\\")+")","g")},$statics:{UNKNOWN_MODIFIER:"Unknown modifier %1.",DATEFORMAT_MODIFIER_ENTRY:"Entry %1 is not a date."},$prototype:{callModifier:function(e,n){e=""+e;var r=t[e.toLowerCase()];if(
r)return r.fn.apply(this,n);this.$logError(aria.templates.Modifiers.UNKNOWN_MODIFIER,[e])},initModifier:function(e,n){var r=t[e];r&&r.init&&r.init(n)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/ModuleCtrl.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ModuleCtrl",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IModuleCtrl"],$dependencies:["aria.utils.Json","aria.utils.Type","aria.templates.ModuleCtrlFactory","aria.templates.RefreshManager","aria.modules.RequestMgr"],$constructor:function(){this.$PublicWrapper.constructor.call(this),this._data={},this._dataBeanName=null,this._smList=null,this.__resources=null,this._session=null,this.$requestHandler=null,this.$requestJsonSerializer=null,this
._enableMethodEvents==null&&(this.$logWarn(this.DEPRECATED_METHOD_EVENTS),this._enableMethodEvents=!0),this._enableMethodEvents=this._enableMethodEvents!==!0?!1:this._enableMethodEvents,this._enableMethodEvents&&this.$addInterceptor(this.$publicInterfaceName,{fn:this._interceptPublicInterface,scope:this})},$destructor:function(){this.$raiseEvent({name:"beforeDispose",reloadingObject:this.__$reloadingObject}),this._enableMethodEvents&&this.$removeInterceptors(this.$publicInterfaceName,this,this._interceptPublicInterface
),this._smLoads=null,this._data=null,this._resources=null,this._smList=null,aria.templates.ModuleCtrlFactory.__notifyModuleCtrlDisposed(this),this.$PublicWrapper.$destructor.call(this),this.$requestJsonSerializer=null},$statics:{INIT_CALLBACK_ERROR:"An error occured while processing a Module init callback in class %1",DATA_CONTENT_INVALID:"Content of datamodel does not match databean:\nbean name: %1,\nmodule class: %2",DEPRECATED_METHOD_EVENTS:"Generic method events (methodCallBegin, methodCallEnd, methodCallback) will be turned off by default in a future release. If the application relies on those events please set the enableMethodEvents variable to true. To already benefit from performance improvements by disabling them, you can set this variable to false."
},$prototype:{$hasFlowCtrl:!1,$publicInterfaceName:"aria.templates.IModuleCtrl",$init:function(e,t,n){e.json=aria.utils.Json},init:function(e,t){this.$callback(t,!0,this.INIT_CALLBACK_ERROR)},_interceptPublicInterface:function(e){e.step=="CallBegin"&&!aria.templates.ModuleCtrl.prototype[e.method]&&aria.templates.RefreshManager.stop();var t={name:"method"+e.step,method:e.method};this.$raiseEvent(t),e.step=="CallEnd"&&!aria.templates.ModuleCtrl.prototype[e.method]&&aria.templates.RefreshManager.resume()},submitJsonRequest
:function(e,t,n){var r=aria.utils.Type;if(r.isString(n)||r.isFunction(n)){var i={fn:n,scope:this};n=i}else r.isObject(n)&&n.scope==null&&(n.scope=this);var s={fn:this._submitJsonRequestCB,scope:this,args:{cb:n}},o={moduleName:this.$package,session:this._session,actionQueuing:null,requestHandler:this.$requestHandler,urlService:this.$urlService,requestJsonSerializer:this.$requestJsonSerializer};r.isString(e)?o.actionName=e:o.serviceSpec=e,aria.modules.RequestMgr.submitJsonRequest(o,t,s)},_submitJsonRequestCB:function(
e,t){aria.templates.RefreshManager.stop(),this.$callback(t.cb,e),aria.templates.RefreshManager.resume()},onSubModuleEvent:function(e,t){},_onSubModuleBeforeDisposeEvent:function(e,t){var n=this._smList;if(n)for(var r=0,i=n.length;r<i;r++)if(n[r]==e.src){aria.utils.Array.removeAt(n,r),e.reloadingObject&&e.reloadingObject.$onOnce({objectLoaded:{scope:this,fn:this.__onSubModuleReloaded}});break}},__onSubModuleReloaded:function(e){this._smList&&this._smList.push(e.object)},loadSubModules:function(e,t){aria.templates
.ModuleCtrlFactory.__loadSubModules(this,e,{fn:this.__onLoadSubModulesComplete,scope:this,args:t})},__onLoadSubModulesComplete:function(e,t){var n=e.subModules;n&&n.length>0&&(this._smList||(this._smList=[]),this._smList=this._smList.concat(e.subModules)),this.$callback(t,e)},disposeSubModule:function(e){aria.templates.ModuleCtrlFactory.__disposeSubModule(this,e)},getData:function(){return this._data},setData:function(e,t){this.json.inject(e,this._data,t),this._dataBeanName&&(aria.core.JsonValidator.normalize
({json:this._data,beanName:this._dataBeanName})||this.$logError(this.DATA_CONTENT_INVALID,[this._dataBeanName,this.$classpath]))},getResourceSet:function(){if(!this.__resources){if(!this.$resources)return undefined;this.__resources={};for(var e in this.$resources)this.$resources[e].hasOwnProperty("provider")?this.__resources[e]=this[e]:this.__resources[e]=Aria.getClassRef(this.$resources[e])}return this.__resources},getSubModuleCtrl:function(e){if(this._smList){var t=this._smList.length;for(var n=0;n<t;n++){
var r=this._smList[n];if(r&&e==r.getData())return r}}return this.$publicInterface()},registerListener:function(e){var t=this.$publicInterface();this.$on({"*":e},t)},unregisterListeners:function(e){var t=this.$publicInterface();this.$unregisterListeners(e,t)},setSession:function(e){this._session=e;if(this._smList){var t=this._smList.length;for(var n=0;n<t;n++){var r=this._smList[n];r&&r.setSession(e)}}}}});
//*******************
//LOGICAL-PATH:aria/templates/ModuleCtrlFactory.js
//*******************
(function(){var e="__$moduleCtrlId",t={},n=aria.core.Interfaces.generateKey,r=function(e,t){t&&this.$logError(this.EXCEPTION_CREATING_MODULECTRL,[e.desc.classpath],t),this.$callback(e.cb,{error:!0})},i=function(e){var t=new Function;return t.prototype=e,new t},s,o,u,a,f,l,c,h,p,d,v,m,g;s=function(e){var t=Aria.getClassRef(e.desc.classpath);t?(e.moduleCtrlConstr=t,o.call(this,e)):Aria.load({classes:[e.desc.classpath],oncomplete:{args:e,scope:this,fn:o},onerror:{args:e,scope:this,fn:r}})},o=function(e){try{var t=
e.desc.classpath,n=e.moduleCtrlConstr;n||(n=Aria.getClassRef(t),e.moduleCtrlConstr=n);if(!n||!aria.utils.Type.isInstanceOf(n.prototype,"aria.templates.ModuleCtrl"))return this.$logError(this.INVALID_MODULE_CTRL,[t]),r.call(this,e);var i=new e.moduleCtrlConstr(e.desc.constructorArgs);e.moduleCtrlPrivate=i;if(i.$hasFlowCtrl){var s=i.$hasFlowCtrl,o;s===!0&&(s=t+"Flow"),s=aria.core.environment.Customizations.getFlowCP(s),e.flowCtrlClasspath=s,o=Aria.getClassRef(s),o?(e.flowCtrlConstr=o,u.call(this,e)):Aria.load(
{classes:[s],oncomplete:{args:e,scope:this,fn:u},onerror:{args:e,scope:this,fn:r}})}else u.call(this,e)}catch(a){return r.call(this,e,a)}},u=function(s){try{var o=s.moduleCtrlPrivate,u=o.$publicInterface(),f,l;if(s.flowCtrlClasspath){s.flowCtrlConstr||(s.flowCtrlConstr=Aria.getClassRef(s.flowCtrlClasspath));if(!s.flowCtrlConstr||!aria.utils.Type.isInstanceOf(s.flowCtrlConstr.prototype,"aria.templates.FlowCtrl"))return this.$logError(this.INVALID_FLOW_CTRL,[s.flowCtrlClasspath]),r.call(this,s);f=new s.flowCtrlConstr
,f.setModuleCtrl(u),o.$addInterceptor(o.$publicInterfaceName,f),l=f.$publicInterface()}var c=n(t),h={moduleCtrlPrivate:o,moduleCtrl:u,flowCtrlPrivate:f,flowCtrl:l,subModuleInfos:s.subModuleInfos};t[c]=h,u[e]=c,o[e]=c,s.res={error:!1,moduleCtrlPrivate:o,moduleCtrl:u};var p=aria.core.environment.Customizations.getCustomModules(s.desc.classpath);if(p.length>0){var d=s.recursionCheck;d?d=i(d):d={},d[s.desc.classpath]=1,m.call(this,h,p,{fn:a,scope:this,args:s},!0,d)}else a.call(this,null,s)}catch(v){return r.call
(this,s,v)}},a=function(e,t){try{var n=t.registerListeners;n&&t.res.moduleCtrl.$on(n),t.session&&t.res.moduleCtrl.setSession(t.session);if(t.skipInit)this.$callback(t.cb,t.res);else{var i=t.desc.initArgs;i||(i={}),t.res.moduleCtrl.init(i,{fn:f,args:t,scope:this})}}catch(s){return r.call(this,t,s)}},f=function(e,t){this.$callback(t.cb,t.res)},l=function(n){var r=n[e],i=t[r];return i?i:(aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.MODULECTRL_BYPASSED_FACTORY,[n.$classpath]),null)
},c=l,h=function(e,t){var n=l(e);return n?n.moduleCtrlPrivate!=e?(aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.EXPECTING_MODULECTRL_PRIVATE,[t,e.$classpath]),null):n:null},p=function(e,t,n,r){var i=n.length,s;for(var o=0;o<i-1;o++)s=n[o],e[s]==null&&(e[s]={}),e=e[s];s=n[i-1];var u=!1;return r!=null?(e[s]==null&&(e[s]=[]),e=e[s],e[r]&&(u=!0),e[r]=t):(e[s]&&(u=!0),e[s]=t),u},d=function(e,t,n,r){var i=t.refpath,s=e.moduleCtrlPrivate,o=e.moduleCtrl.getData(),u=e.moduleCtrl,a=n?n.getData
():null,f;r?(f=[i],s=null):(f=i.split("."),i.charAt(0)=="_"&&(o=null,u=null));var l=!1;s&&(l=p(s,n,f,t.arrayIndex)||l),o&&(l=p(o,a,f,t.arrayIndex)||l),u&&(l=p(u,n,f,t.arrayIndex)||l),n!=null&&l&&this.$logError(this.SUBMODULE_REFPATH_ALREADY_USED,[i,t.classpath,e.moduleCtrlPrivate.$classpath])},v=function(e,t){var n=t.common,r=t.subModuleDesc,i=e.moduleCtrl;n.res.subModules[t.subModuleIdx]=i,n.alreadyLoaded++;if(i){var s=n.parentModule,o=s.subModules;d.call(this,s,r,i,n.customModules),o?o.push(e.moduleCtrlPrivate
):s.subModules=[e.moduleCtrlPrivate]}else{var u=t.error||this.SM_CREATION_FAILED;n.res.errors++,this.$logError(u,[r.refpath,r.classpath,n.parentModule.moduleCtrlPrivate.$classpath])}n.alreadyLoaded>=n.toBeLoaded&&this.$callback(n.cb,n.res)},m=function(e,t,n,r,i){var o=t.length;if(o===0){this.$callback(n,{subModules:[],errors:0});return}var u=e.moduleCtrlPrivate,a={cb:n,res:{subModules:[],errors:0},parentModule:e,alreadyLoaded:0,toBeLoaded:o,customModules:r},f=null,l=aria.utils.Type;for(var c=0;c<o;c++){var h=
t[c],p=!1;r&&l.isString(h)&&(h={classpath:h,refpath:"custom:"+h});var d=h.classpath;aria.core.JsonValidator.check(h,"aria.templates.CfgBeans.SubModuleDefinition")?r&&h.refpath.substring(0,7)!="custom:"?p=this.INVALID_CUSTOM_MODULE_REFPATH:i&&i[d]&&(p=this.CUSTOM_MODULES_INFINITE_RECURSION):p=this.INVALID_SM_DEF;if(p){v.call(this,{},{error:p,subModuleIdx:c,subModuleDesc:h,common:a});continue}s.call(this,{recursionCheck:i,subModuleInfos:{parentModule:e,customModule:r,subModuleDesc:h},registerListeners:r?null:{"*"
:{fn:u.onSubModuleEvent,scope:u,args:{smRef:h.refpath}},beforeDispose:{fn:u._onSubModuleBeforeDisposeEvent,scope:u,args:{smRef:h.refpath}}},desc:{classpath:d,initArgs:h.initArgs,constructorArgs:h.constructorArgs},session:e.moduleCtrlPrivate._session,cb:{fn:v,scope:this,args:{subModuleIdx:c,subModuleDesc:h,common:a}}})}},g=function(e,t){var n=t.objectLoading,r=e.subModules[0];if(r){var i=aria.core.Interfaces;i.linkItfWrappers(t.oldModuleCtrl,r);if(t.oldFlowCtrl){var s=l(r),o=s.flowCtrl;o&&i.linkItfWrappers(t.
oldFlowCtrl,o)}}n.notifyObjectLoaded(r),n.$dispose(),this.$callback(t.callback)},Aria.classDefinition({$classpath:"aria.templates.ModuleCtrlFactory",$dependencies:["aria.templates.CfgBeans","aria.templates.ObjectLoading","aria.core.environment.Customizations"],$singleton:!0,$statics:{INVALID_SM_DEF:"Sub-module load failure: invalid module definition:\nreference: %1,\nclasspath: %2,\nparent class: %3",INVALID_CUSTOM_MODULE_REFPATH:"Error : invalid custom module refpath.\nrefpath: %1\nmodule class: %2\nparent class: %3"
,CUSTOM_MODULES_INFINITE_RECURSION:"Error: custom modules infinite recursion detected.\nrefpath: %1\nmodule class: %2\nparent class: %3",SM_CREATION_FAILED:"Sub-module creation failed:\nmodule name: %1,\nmodule class: %2\nparent class: %3",MODULECTRL_BYPASSED_FACTORY:"Error : module controller is already disposed or was not created using the module controller factory.\nmodule class: %1.",INVALID_MODULE_CTRL:"Error: %1 is not a module controller.",INVALID_FLOW_CTRL:"Error: %1 is not a flow controller.",EXPECTING_MODULECTRL_PRIVATE
:"Error: %1 expected the whole module controller and only an interface was provided.\nmodule class: %2",EXCEPTION_CREATING_MODULECTRL:"Error: an exception occurred during the process of module controller creation.\nmodule class: %1",SUBMODULE_REFPATH_ALREADY_USED:"Sub-module refpath is already used (the existing path was replaced).\nrefpath: %1\nmodule class: %2\nparent class: %3",EXCEPTION_SUBMODULE_DISPOSE:"An exception occurred while disposing a sub-module.\nparent module class: %1\nchild module class: %2"
,RELOAD_ONLY_FOR_SUBMODULES:"The module reload feature is only available for sub-modules, and not for root modules.\nmodule class: %1",DISPOSE_NOT_SUBMODULE:"Error: disposeSubModule was called with a parameter which is not a sub-module of the current module.\nparent module class: %1\nclass of the parameter: %2"},$prototype:{createModuleCtrl:function(e,t,n){var r={desc:e,cb:t,skipInit:n};s.call(this,r)},__disposeSubModule:function(e,t){var n=l(t);if(!n)return;var r=n.subModuleInfos;if(!r||r.parentModule.moduleCtrlPrivate!=
e){this.$logError(this.DISPOSE_NOT_SUBMODULE,[e.$classpath,n.moduleCtrlPrivate.$classpath]);return}n.moduleCtrlPrivate.$dispose()},__loadSubModules:function(e,t,n){var r=h(e,"loadSubModules");if(!r)return this.$callback(n,{error:!0});m.call(this,r,t,n,!1)},__getModulePrivateInfoMethod:function(){var e=c;return c=null,e},isModuleCtrlReloadable:function(n){if(n==null)return!1;var r=n[e],i=t[r];if(!i)return!1;if(i.moduleCtrlPrivate!=n)return!1;var s=i.subModuleInfos;return s!=null},reloadModuleCtrl:function(e,t
){var n=h(e,"reloadModuleCtrl");if(!n)return;var r=n.subModuleInfos;if(r==null){this.$logError(this.RELOAD_ONLY_FOR_SUBMODULES,[e.$classpath]);return}var i=r.parentModule;this.$assert(668,i!=null);var s=n.moduleCtrl,o=n.flowCtrl,u=aria.core.ClassMgr,a=[e.$classpath,e.$publicInterfaceName],f=n.flowCtrlPrivate;f&&(a[2]=f.$classpath,a[3]=f.$publicInterfaceName);var l=new aria.templates.ObjectLoading;e.__$reloadingObject=l,e.$dispose();for(var c=0,p=a.length;c<p;c++)u.unloadClass(a[c],!0);m.call(this,i,[r.subModuleDesc
],{fn:g,scope:this,args:{objectLoading:l,oldModuleCtrl:s,oldFlowCtrl:o,callback:t}},r.customModule)},__notifyModuleCtrlDisposed:function(n){var r=n[e],i=h(n,"notifyModuleCtrlDisposed");if(!i)return;i.isDisposing=!0;var s=i.subModuleInfos,o=s?s.parentModule:null;o&&!o.isDisposing&&(aria.utils.Array.remove(o.subModules,n),d.call(this,o,s.subModuleDesc,null,s.customModule));var u=i.subModules;if(u){for(var a=u.length-1;a>=0;a--)try{u[a].$dispose()}catch(f){this.$logError(this.EXCEPTION_SUBMODULE_DISPOSE,[n.$classpath
,u[a].$classpath],f)}i.subModules=null}t[r]=null,delete t[r],i.flowCtrlPrivate&&(i.flowCtrlPrivate.$dispose(),i.flowCtrlPrivate=null,i.flowCtrl=null),i.moduleCtrl=null,i.moduleCtrlPrivate=null,i.subModuleInfos=null}}})})();
//*******************
//LOGICAL-PATH:aria/templates/NavigationManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.NavigationManager",$singleton:!0,$dependencies:["aria.utils.Type","aria.templates.CfgBeans"],$constructor:function(){this._tableNavMarker=Aria.FRAMEWORK_PREFIX+"tableNavDone",this._keyMapMarker=Aria.FRAMEWORK_PREFIX+"keyMapDone",this.globalKeyMap=[],this._hasModalBehaviour=!1},$statics:{INVALID_GLOBAL_KEYMAP_CFG:"Invalid global keymap configuration."},$prototype:{addGlobalKeyMap:function(e){var t={json:e,beanName:"aria.templates.CfgBeans.GlobalKeyMapCfg"};aria
.core.JsonValidator.normalize(t)?(e=t.json,this.globalKeyMap.push(e)):this.$logError(this.INVALID_GLOBAL_KEYMAP_CFG)},removeGlobalKeyMap:function(e){for(var t=0,n=this.globalKeyMap.length,r;t<n;t++){r=this.globalKeyMap[t];if(r.key==e.key&&!!e.alt==!!r.alt&&!!e.shift==!!r.shift&&!!e.ctrl==!!r.ctrl)return this.globalKeyMap.splice(t,1),!0}return!1},handleNavigation:function(e,t,n,r){var i;if(n.type=="keyup"||n.type=="keydown")!n[this._tableNavMarker]&&n.type=="keydown"&&(n[this._tableNavMarker]=this._handleTableNavigation
(t,n)),n[this._keyMapMarker]||(n[this._keyMapMarker]=this._handleKeyMap(e,n))},handleGlobalNavigation:function(e){if(e.type=="keyup"||e.type=="keydown")e[this._keyMapMarker]||(e[this._keyMapMarker]=this._handleKeyMap(this.globalKeyMap,e,!0))},focusFirst:function(e,t){var n;if(e.nodeType==1){var r=e.childNodes,i=r.length,s=t?i-1:0,o;for(;s>-1&&s<i;t?s--:s++){o=r[s],n={fn:function(){this._focusNext(o,t)},scope:this};if(this._doFocus(o,n))return!0;if(this.focusFirst(o,t))return!0}return!1}return!1},setModalBehaviour
:function(e){this._hasModalBehaviour=e},_focusNext:function(e,t){var n=Aria.$window.document.body,r;while(!r){t?r=e.previousSibling:r=e.nextSibling;if(!r){e=e.parentNode;if(!e||e==n)return!1}}return!this._doFocus(r)&&!this.focusFirst(r,t)?this._focusNext(r,t):!0},_doFocus:function(e,t){if(e.nodeType!=1)return!1;if(e.__widget){if(e.__widget.focus){var n=e.__widget.focus(null,t);return!!n}return!1}var r=e.nodeName,i=e.getAttributeNode("tabindex");if((r=="INPUT"||r=="TEXTAREA"||r=="A"||r=="BUTTON"||i&&i.specified&&
i.nodeValue!=-1)&&!e.disabled)try{return e.focus(),!0}catch(s){return!1}return!1},_handleTableNavigation:function(e,t){var n=t.keyCode,r=!1;if(e===!1||n>40||n<37)return!0;if(!e)return!1;e===!0&&(e={});var i=this._validateModifiers(e,t);if(i){var s=t.target,o=this._getContainingTD(s);if(o){var u=o.parentNode.parentNode,a=this._getTableMap(u,o);r=this._navigateMap(u,a,t)}else n==t.KC_ARROW_DOWN?r=this._focusNext(s):n==t.KC_ARROW_UP&&(r=this._focusNext(s,!0));return r&&t.preventDefault(),!0}},_validateModifiers
:function(e,t){return t.altKey==!!e.alt&&t.shiftKey==!!e.shift&&t.ctrlKey==!!e.ctrl},_navigateMap:function(e,t,n){var r=n.keyCode,i=t.map,s=t.pos,o=0,u=0;r==n.KC_ARROW_UP?o=-1:r==n.KC_ARROW_DOWN?o=1:r==n.KC_ARROW_LEFT?u=-1:u=1;var a=!1,f=s,l,c,h,p,d=s.rowIndex,v=s.mapCellIndex;do{u!==0?v+=u:d+=o;if(d<0||d>=i.length)return this._focusNext(e,d<0);l=i[d],p=!1;if(v<0||v>=l.length){if(o===0)return!1;u==1?(u=-1,v=s.mapCellIndex):(u=1,v=s.mapCellIndex-1,d+=o),p=!0}if(!p){h=i[d][v];if(h!=f){o!==0&&u!==0&&(o==-1&&h.rowIndex+
h.rowSpan-1!=d?p=!0:o==1&&h.rowIndex!=d&&(p=!0));if(!p){c=e.rows[h.rowIndex].cells[h.cellIndex],f=h;if(!c)return!1;a=this.focusFirst(c),!a&&o!==0&&u===0&&(u=1)}}}}while(!a);return!0},_getContainingTD:function(e){var t=Aria.$window.document.body,n=e;while(n&&n!=t){if(n.nodeName=="TD"&&!n.parentNode.parentNode.attributes.isFrame)return n;n=n.parentNode}return},_getTableMap:function(e,t){var n=[],r,i=e.rows;for(var s=0,o=i.length;s<o;s++){var u=i[s].cells,a=n[s];a||(a=[],n[s]=a);var f=0;for(var l=0,c=u.length;l<
c;l++){var h=u[l],p=h.rowSpan,d=h.colSpan,v=a[f];while(v)v=a[++f];var m={rowIndex:s,cellIndex:l,rowSpan:p,mapCellIndex:f};h==t&&(r=m);for(var g=0;g<p;g++){var y=n[s+g];y||(y=[],n[s+g]=y);for(var b=0;b<d;b++)y[f+b]=m}f+=d}}return{map:n,pos:r}},_handleKeyMap:function(e,t,n){var r=t.keyCode,i=!1,s=!1,o,u;if(!e||!r)return!1;for(var a=0,f;f=e[a];a++)if(this._validateModifiers(f,t)){u=f&&"event"in f?f.event:"keydown";if(!f.key||u!=t.type)return!1;if(n===!0&&this._hasModalBehaviour&&!f.modal)continue;if(aria.utils.
Type.isNumber(f.key)){if(f.key==r){i=this.$callback(f.callback),s=!0;break}}else if(f.key!=="*"){if(t["KC_"+f.key.toUpperCase()]==r){i=this.$callback(f.callback),s=!0;break}}else o=f.callback}return s?i?!1:(t.preventDefault(),!0):o?!this.$callback(o):!1}}});
//*******************
//LOGICAL-PATH:aria/templates/ObjectLoading.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ObjectLoading",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IObjectLoading"],$constructor:function(){this.$PublicWrapper.constructor.call(this)},$prototype:{$publicInterfaceName:"aria.templates.IObjectLoading",notifyObjectLoaded:function(e){this.$raiseEvent({name:"objectLoaded",object:e})}}});
//*******************
//LOGICAL-PATH:aria/templates/Parser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.Parser",$dependencies:["aria.utils.String"],$singleton:!1,$constructor:function(){this.template=null,this.__lineNumbers=null,this.__currentLn=0,this._keepWhiteSpace=!1},$statics:{MISSING_CLOSINGBRACES:"line %1: Template parsing error: could not find corresponding '}'.",EXPECTING_OTHER_CLOSING_STATEMENT:"line %4: Template parsing error: found closing statement '%2', but '%1' (line %3) should be closed first.",INVALID_STATEMENT_NAME:"line %2: Template parsing error: invalid statement name: '%1'"
,STATEMENT_CLOSED_NOT_OPEN:"line %2: Template parsing error: could not find corresponding open statement for closing statement '%1'.",MISSING_CLOSING_STATEMENT:"line %2: Template parsing error: statement '%1' was open but never closed."},$prototype:{parseTemplate:function(e,t,n){},_prepare:function(e){e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e=e.replace(/\/\/.*\{(\/)?CDATA\}.*$/gm,"");var t=e.split("{CDATA}"),n=[],r;n.push(t[0]);for(var i=1,s=t.length;i<s;i++){r=t[i].split("{/CDATA}");if(r.length!=2){this
.$logError(this.MISSING_CLOSING_STATEMENT,"CDATA",this.context),this.template=e;return}n=n.concat(r)}for(var o=0,s=n.length,u,a;o<s;o++){u=n[o];if(o%2===0){var f=/\/\*(.|\n|\r)*?\*\//m;while(a=u.match(f)){a+="";var l="",c=-1;while((c=a.indexOf("\n",c+1))!=-1)l+="\n";u=u.replace(f,l)}u=u.replace(/^\/\/.*$/gm,""),u=u.replace(/([^\:])\/\/(?=(?:(?:[^"]*"){2})*[^"]*$).*$/gm,"$1"),this._keepWhiteSpace||(u=u.replace(/^[ \t]+/gm,""),u=u.replace(/[ \t]+$/gm,""))}else u="{CDATA}"+u+"{/CDATA}";n[o]=u}e=n.join(""),this.
template=e},_computeLineNumbers:function(){var e=this.template;this.__lineNumbers=[0];var t=e.indexOf("\n");while(t!=-1)this.__lineNumbers.push(t),t=e.indexOf("\n",t+1)},positionToLineNumber:function(e){var t=this.__lineNumbers,n=t.length,r;for(r=this.__currentLn;r<n;r++)if(e<t[r]){if(r>0&&t[r-1]>e)break;return this.__currentLn=r,r}for(r=0;r<this.__currentLn;r++)if(e<t[r])return this.__currentLn=r,r;return this.__lineNumbers.length},__findClosingBraces:function(e,t){var n=t,r=0,i=-1,s=-1,o=aria.utils.String;
do i<n&&(i=o.indexOfNotEscaped(e,"{",n)),s<n&&(s=o.indexOfNotEscaped(e,"}",n)),i>-1&&i<s?(r++,n=i+1):s>-1&&(r--,n=s+1);while(r>=0&&s>-1);return this.$assert(163,s==-1||r<0&&(s<i||i==-1)),{indexClose:s,indexOpen:i}},__unescapeParam:function(e,t,n){var r=e.substring(t,n);return r=r.replace(/^[\r\n]+/,""),r=r.replace(/[\r\n]+$/,""),r=r.replace(/\\([\/\{\}\$\\*])/g,"$1"),r},__unescapeText:function(e,t,n){var r=e.substring(t,n);return/^[\r\n]*$/.test(r)?"":(r=r.replace(/\\([\/\{\}\$\\*])/g,"$1"),r)},__logError:function(
e,t,n){n||(n=[]),n.push(this.positionToLineNumber(e)),this.$logError(t,n,this.context)},_buildTree:function(){var e=aria.utils.String;this.__currentLn=0;var t=this.template,n=0,r=0,i=e.indexOfNotEscaped(t,"{"),s=!1,o,u=[],a={name:"#ROOT#",paramBlock:"",parent:null,content:u,lineNumber:0},f=[a];while(i!=-1){s=t.charAt(i-1)=="$"&&!e.isEscaped(t,i-1),r=s?i-1:i,r-n>0&&(o={name:"#TEXT#",parent:f[f.length-1],firstCharParamIndex:n,lastCharParamIndex:r,paramBlock:this.__unescapeText(t,n,r),lineNumber:this.positionToLineNumber
(n)},o.paramBlock.length>0&&u.push(o)),n=i+1;var l=this.__findClosingBraces(t,n);r=l.indexClose,i=l.indexOpen;if(r==-1)return this.__logError(n,this.MISSING_CLOSINGBRACES),null;if(s)u.push({name:"#EXPRESSION#",parent:f[f.length-1],firstCharParamIndex:n,lastCharParamIndex:r,paramBlock:this.__unescapeParam(t,n,r),lineNumber:this.positionToLineNumber(n)}),n=r+1;else if(t.charAt(n)=="/"){n++,o=f.pop();var c=t.substring(n,r);if(f.length===0)return this.__logError(n,this.STATEMENT_CLOSED_NOT_OPEN,[c]),null;if(o.name!=
c){for(var h=f.length-1;h>=1;h--)if(f[h].name==c)return this.__logError(n,this.EXPECTING_OTHER_CLOSING_STATEMENT,[o.name,c,o.lineNumber]),null;return this.__logError(n,this.STATEMENT_CLOSED_NOT_OPEN,[c]),null}o.lastCharContentIndex=n-2,u=f[f.length-1].content,n=r+1,c=null}else{var p=r+1,d=t.charAt(r-1)=="/"&&!e.isEscaped(t,r-1),v,m;d&&r--,o={parent:f[f.length-1],lastCharParamIndex:r},u.push(o),m=e.nextWhiteSpace(t,n,r,/[\s\{]/),m==-1?(m=r,v=t.substring(n,r)):(v=t.substring(n,m),t.charAt(m)!="{"&&m++),o.firstCharParamIndex=
m,o.lineNumber=this.positionToLineNumber(m);if(v!="CDATA"){o.name=v,d||(o.content=[],o.firstCharContentIndex=p,f.push(o),u=o.content);if(!/^[_\w@:]+$/.test(o.name))return this.__logError(n,this.INVALID_STATEMENT_NAME,[o.name]),null;o.paramBlock=this.__unescapeParam(t,m,r),n=p}else{o.name="#CDATA#";var g=t.indexOf("{/CDATA}");if(g==-1)return this.__logError(n,this.MISSING_CLOSING_STATEMENT,["CDATA"]),null;o.paramBlock=t.substring(r+1,g);var l=this.__findClosingBraces(t,g+1);n=l.indexClose+1,i=l.indexOpen}}}return r=
t.length,r-n>0&&(o={name:"#TEXT#",parent:f[f.length-1],firstCharParamIndex:n,lastCharParamIndex:r,paramBlock:this.__unescapeText(t,n,r),lineNumber:this.positionToLineNumber(n)},o.paramBlock.length>0&&u.push(o)),f.length>1?(this.__logError(f[f.length-1].firstCharContentIndex,this.MISSING_CLOSING_STATEMENT,[f[f.length-1].name]),null):(this.template=this.__lineNumbers=null,a)}}});
//*******************
//LOGICAL-PATH:aria/templates/PublicWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.PublicWrapper",$prototype:{$publicInterfaceName:null,$publicInterface:function(){return this.$interface(this.$publicInterfaceName)}}});
//*******************
//LOGICAL-PATH:aria/templates/RefreshManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.RefreshManager",$singleton:!0,$constructor:function(){this._stops=0,this._queue=[],this._hierarchies=[],this._updatedNodes=[],this._nodesToRefresh=[],this._isResuming=!1},$destructor:function(){this._queue=null,this._hierarchies=null,this._updatedNodes=null,this._nodesToRefresh=null},$statics:{PARENT_PROP:Aria.FRAMEWORK_PREFIX+"containedIn"},$prototype:{queue:function(e,t){this._queue.push({cb:e,elem:t})},stop:function(){this._isResuming||this._stops++},_triggerCB
:function(e){var t=e.scope,n;t=t?t:this,e.fn?n=e.fn:n=e,typeof n=="string"&&(n=t[n]),e.scope.$Widget?n.call(t,null,e.args):n.call(t,e.args)},resume:function(){if(this._isResuming)return;this._stops--;if(this._stops>0)return;this._stops=0,this._isResuming=!0;var e=this._queue.length;if(Aria.rootTemplates==null||Aria.rootTemplates.length===0){for(var t=0;t<e;t++)this._triggerCB(this._queue[t].cb);this._queue=[],this._isResuming=!1;return}this.updateHierarchies(),this._updatedNodes.length=0;var n=this._hierarchies
.length,r=[];for(var i=0;i<n;i++){var s=this._hierarchies[i];for(var o=0;o<e;o++){var u=this._queue[o],a=this._findInHierarchy(u,s);a&&(a.updated||(a.updated=!0,a.qElem=u,this._updatedNodes.push(a)),this._queue.splice(o,1),o--,e--)}}this._computeMinimal();var u,f;for(var t=0,l=this._nodesToRefresh.length;t<l;t++)u=this._nodesToRefresh[t].qElem,f=u.cb,this._triggerCB(f);for(var c=0;c<e;c++)u=this._queue[c],f=u.cb,this._triggerCB(f);this._queue=[],this._isResuming=!1},isResuming:function(){return this._isResuming
},_findInHierarchy:function(e,t){if(this._elemMatches(e,t))return t;if(t.content==null)return null;if(t.content.length>0)for(var n=0;n<t.content.length;n++){var r=t.content[n],i=this._findInHierarchy(e,r);if(i!=null)return i}return null},_elemMatches:function(e,t){var n=e.cb.args&&(e.cb.args.filterSection!=null||e.cb.args.outputSection!=null);if(n){if(t.type=="section"){var r=t.elem.tplCtxt;if(r!=e.elem)return!1;var i=e.cb.args.filterSection||e.cb.args.outputSection,s=t.elem.id;return i==s}return!1}if(t.type=="template"
)return e.elem==t.elem;if(t.type=="templateWidget")return t.elem.behavior?t.elem.behavior.subTplCtxt==e.elem:t.elem.subTplCtxt==e.elem;if(t.type=="widget")return t.elem.behavior._subTplCtxt==e.elem?!0:t.elem.behavior==e.elem;if(t.type=="section")return t.elem==e.elem},isStopped:function(){return this._stops>0},getHierarchies:function(){return this._hierarchies},updateHierarchies:function(){this._hierarchies.length=0;for(var e=0;e<Aria.rootTemplates.length;e++){var t=Aria.rootTemplates[e];if(t._mainSection){var n=
this._fillNode(t);this._hierarchies.push(n)}}},_computeMinimal:function(){this._nodesToRefresh.length=0;for(var e=0;e<this._hierarchies.length;e++)this._markSubnodesToRefresh(this._hierarchies[e])},_markSubnodesToRefresh:function(e){if(e.updated){this._nodesToRefresh.push(e);var t=e.elem;if(!t.refreshManagerWholeUpdate)return;if(t.refreshManagerWholeUpdate())return}if(e.content&&e.content.length>0)for(var n=0;n<e.content.length;n++){var r=e.content[n];this._markSubnodesToRefresh(r)}},_fillNode:function(e){var t=
[],n={type:null,elem:e,content:[]};if(e.$classpath=="aria.templates.TemplateCtxt"){n.type="template";var r=e._mainSection._content;this._addContent(n,r)}else if(e.$classpath=="aria.widgets.Template"){n.type="templateWidget";if(e.subTplCtxt&&e.subTplCtxt._mainSection){var i=e.subTplCtxt._mainSection._content;this._addContent(n,i)}}else if(e._type==1){var s=e.behavior;if(s.$classpath=="aria.widgets.Template"){n.type="templateWidget";if(s.subTplCtxt&&s.subTplCtxt._mainSection){var i=s.subTplCtxt._mainSection._content
;this._addContent(n,i)}}else{n.type="widget";if(e.behavior._subTplCtxt){var o=e.behavior._subTplCtxt._mainSection._content;this._addContent(n,o)}else if(e.behavior.$classpath=="aria.widgets.form.DatePicker"){if(e.behavior.controller._calendar&&e.behavior.controller._calendar._tplWidget){var u=[e.behavior.controller._calendar._tplWidget];this._addContent(n,u)}}else if(e.behavior.$classpath=="aria.widgets.form.MultiSelect"){if(e.behavior.controller._listWidget){var u=[e.behavior.controller._listWidget._tplWidget
];this._addContent(n,u)}}else n.content=null}}else if(e.idMap!=null){n.type="section";var a=e._content;this._addContent(n,e._content)}return n},_addContent:function(e,t){for(var n=0;n<t.length;n++){var r=this._fillNode(t[n]);r[this.PARENT_PROP]=e,e.content.push(r)}}}});
//*******************
//LOGICAL-PATH:aria/templates/Repeater.js
//*******************
(function(){var e=null,t=null,n=null,r=null,i=function(e){return e&&(t.isFunction(e)||e.fn)};Aria.classDefinition({$classpath:"aria.templates.Repeater",$extends:"aria.templates.Section",$constructor:function(t,n,r){n.id==null&&(n.id=e.getId(),this._dynamicId=n.id),this.$Section.constructor.call(this,t,n,r);if(!this.cfgOk)return;if(n.macro){this.cfgOk=!1,this.$logError(this.REPEATER_MACRO_NOT_SUPPORTED,[this.tplCtxt.tplClasspath,this.id]);return}this.items=[],this.itemsMap=null,this._childIdSuffix=0,this._loopType=
n.loopType,this.iteratedSet=n.content;if(!this._updateLoopType()){this.cfgOk=!1;return}this._registerIteratedSetListener(),this._setChildSectionsCfg(n.childSections)},$destructor:function(){this._dynamicId&&e.releaseId(this._dynamicId),this._unregisterIteratedSetListener(),this.$Section.$destructor.call(this)},$onload:function(){e=new aria.utils.IdManager("__repeater"),t=aria.utils.Type,n=aria.utils.Json,r=aria.utils.Array},$onunload:function(){e.$dispose(),e=null,t=null,r=null,n=null},$statics:{REPEATER_INVALID_ITERATED_SET
:"Error in template '%1': the value declared in bindContentTo in the repeater '%2' is not valid or not compatible with the loopType property (%3).",VIEWS_NOT_SUPPORTED:"Template %1, repeater %2: support for views is not yet implemented in the repeater.",REPEATER_MACRO_NOT_SUPPORTED:"Error in template '%1', in the repeater '%2': the macro property is not supported for repeaters."},$prototype:{beforeRefresh:function(e){e.writerCallback={fn:this._refreshWriterCallback,scope:this}},_refreshWriterCallback:function(
e){this.items=[],this.itemsMap={},this._childIdSuffix=0,this.writeContent(e)},_createSectionParam:function(e){var t=this._childSections,n=this._childSectCBProp,r=this._childSectConstProp,i={};e.sectionId=this.tplCtxt.evalCallback(t.id,e),i.id=e.sectionId;var s,o,u;for(s=0,o=n.length;s<o;s++)u=n[s],i[u]=this.tplCtxt.evalCallback(t[u],e);for(s=0,o=r.length;s<o;s++)u=r[s],i[u]=t[u];return i},_initItem:function(e){e.iteratedSet=this.iteratedSet,e.sectionIdSuffix=""+this._childIdSuffix,this._childIdSuffix++},_writeRepeaterItem
:function(e){this._initItem(e),this.items[e.ct-1]=e;var t=this._createSectionParam(e);this.tplCtxt.__$beginSection(0,!1,t),this.tplCtxt.__$endSection()},_loopOver_array:function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(this,{index:r,ct:r+1,item:e[r]},n)},_loopOver_sortedView:function(e,t,n){e.refresh();var r=e.items;for(var i=0,s=r.length;i<s;i++){var o=r[i];t.call(this,{index:i,ct:i+1,info:o,item:o.value},n)}},_loopOver_filteredView:function(e,t,n){e.refresh();var r=e.items,i=1;for(var s=0,o=r.length;s<
o;s++){var u=r[s];u.filteredIn&&(t.call(this,{index:s,ct:i,info:u,item:u.value},n),i++)}},_loopOver_pagedView:function(e,t,n){e.refresh();var r=e.pages[e.currentPageIndex],i=e.items,s=1;for(var o=r.firstItemIndex,u=r.lastItemIndex;o<=u;o++){var a=i[o];a.filteredIn&&(t.call(this,{index:o,ct:s,info:a,item:a.value},n),s++)}},_loopOver_map:function(e,t,r){var i=1;this.itemsMap={};for(var s in e)if(e.hasOwnProperty(s)&&!n.isMetadata(s)){var o={index:s,ct:i,item:e[s]};t.call(this,o,r),this.itemsMap[s]=o,i++}},_defaultCallback_id
:function(e,t){return t+e.sectionIdSuffix},_defaultCallback_macro:function(e,t){var n=r.clone(t.args);return n.push(e),{name:t.name,args:n,scope:t.scope}},_setChildSectionsCfg:function(e){var t={},n=[],r=[];for(var s in e)if(e.hasOwnProperty(s)){var o=e[s];t[s]=o,i(o)?s!="id"&&n.push(s):s=="id"||s=="macro"?(s=="macro"&&(o=this.tplCtxt.checkMacro(o)),t[s]={fn:this["_defaultCallback_"+s],args:o,scope:this},s!="id"&&n.push(s)):r.push(s)}this._childSectCBProp=n,this._childSectConstProp=r,this._childSections=t},_registerIteratedSetListener
:function(){var e=this._loopType;if(e=="array"||e=="map"){var t={scope:this,fn:this._notifyChange};n.addListener(this.iteratedSet,null,t),this._iteratedSetListener=t}},_unregisterIteratedSetListener:function(){var e=this._iteratedSetListener;e&&(n.removeListener(this.iteratedSet,null,e),this._iteratedSetListener=null)},_notifyIteratedSetReplaced:function(e){this._unregisterIteratedSetListener(),this.tplCtxt.$refresh({outputSection:this.id})},refreshManagerWholeUpdate:function(){return this.$assert(341,this._refreshMgrInfo
),this._refreshMgrInfo.queue==null},_refreshManagerCallback:function(){var e=this._refreshMgrInfo;if(!e)return;this._refreshMgrInfo=null;var t=e.queue;if(t)for(var n=0,r=t.length;n<r;n++)this._notifyChange(t[n]);else this.tplCtxt.$refresh(e.refreshArgs)},_checkRefreshManager:function(e){if(aria.templates.RefreshManager.isStopped()){var t=this._registerInRefreshMgr().queue;return t&&t.push(e),!0}return!1},_notifyChange_array:function(e){if(this._checkRefreshManager(e))return;var t=e.change,r=this.items;if(t==
n.VALUE_CHANGED||t==n.KEY_REMOVED||t==n.KEY_ADDED){var i=parseInt(e.dataName,10);if(i!=e.dataName||i<0)return;if(i<r.length)n.setValue(r[i],"item",e.newValue),this.tplCtxt.$refresh({outputSection:r[i].sectionId});else{var s=r.length,o=[];for(var u=s;u<=i;u++){var a={index:u,ct:u+1,item:u==i?e.newValue:undefined};r[u]=a,this._initItem(a),o[u-s]=this._createSectionParam(a)}this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:o,position:"beforeEnd"})}}else if(t==n.SPLICE){
var i=e.index,f=e.removed.length;if(f)for(var u=0;u<f;u++){var l=this.items[i+u],c=this.tplCtxt.$getElementById(l.sectionId);c.remove()}var h=e.added,p=h.length;if(p){var o=[],d=[i,f];for(var u=0;u<p;u++){var a={index:i+u,ct:i+u+1,item:h[u]};d[u+2]=a,this._initItem(a),o[u]=this._createSectionParam(a)}r.splice.apply(r,d);if(i>0){var v=this.getSectionById(r[i-1].sectionId);this.tplCtxt.insertAdjacentSections({refSection:{domElt:v.getDom(),object:v},sections:o,position:"afterEnd"})}else this.tplCtxt.insertAdjacentSections
({refSection:{domElt:this.getDom(),object:this},sections:o,position:"afterBegin"})}else r.splice(i,f);p!=f&&this._updateRemainingItems(i+p,!0)}},_updateRemainingItems:function(e,t){var r=this.items,s=this._childSections.cssClass;i(s)||(s=null);for(var o=r.length-1;o>=e;o--){var u=r[o];t&&n.setValue(u,"index",o),n.setValue(u,"ct",o+1);if(s){var a=this.getSectionById(u.sectionId),f=a.cssClass,l=this.tplCtxt.evalCallback(s,u);if(f!=l){var c=a.getDom();c.className=l,a.cssClass=l}}}},_notifyChange_map:function(e)
{var t=e.change;if(t!=n.VALUE_CHANGED&&t!=n.KEY_REMOVED&&t!=n.KEY_ADDED)return;if(this._checkRefreshManager(e))return;var r=this.itemsMap,i=this.items,s=this.iteratedSet,o=e.dataName;if(n.isMetadata(o))return;if(r.hasOwnProperty(o)){var u=r[o];if(t==n.KEY_REMOVED){var a=this.tplCtxt.$getElementById(u.sectionId);a.remove(),i.splice(u.ct-1,1),delete r[o],this._updateRemainingItems(u.ct-1,!1)}else n.setValue(u,"item",s[o]),this.tplCtxt.$refresh({outputSection:u.sectionId})}else if(t!=n.VALUE_CHANGED){var u={index
:o,ct:i.length+1,item:s[o]};this._initItem(u),i[u.ct-1]=u,this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:[this._createSectionParam(u)],position:"beforeEnd"})}},_updateLoopType:function(){var e=!0,n=this._loopType,r=this.iteratedSet;return n=="array"?e=t.isArray(r):n=="map"?e=t.isObject(r):n!=null?(e=t.isInstanceOf(r,"aria.templates.View"),n=="view"&&(n="pagedView")):(t.isArray(r)?n="array":t.isInstanceOf(r,"aria.templates.View")?n="pagedView":t.isObject(r)?n="map"
:e=!1,this._loopType=n),e?n!="map"&&n!="array"?(this.$logError(this.VIEWS_NOT_SUPPORTED,[this.tplCtxt.tplClasspath,this.id]),!1):(this._loopOver=this["_loopOver_"+n],this._notifyChange=this["_notifyChange_"+n],!0):(this.$logError(this.REPEATER_INVALID_ITERATED_SET,[this.tplCtxt.tplClasspath,this.id,n],r),!1)},writeContent:function(e){this._loopOver(this.iteratedSet,this._writeRepeaterItem)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/Section.js
//*******************
(function(){var e=null,t=0,n=1,r=/^[\w\-:\.]+\+?$/;Aria.classDefinition({$classpath:"aria.templates.Section",$dependencies:["aria.utils.Array","aria.utils.Json","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.CfgBeans","aria.utils.Dom","aria.utils.String","aria.utils.Json","aria.templates.DomElementWrapper","aria.utils.Html","aria.templates.DomEventWrapper","aria.utils.IdManager","aria.templates.SectionWrapper"],$onload:function(){e=new aria.utils.IdManager("s")},$onunload:function()
{e.$dispose(),e=null},$constructor:function(e,t,n){var i,s,o,u,a;this._content=[],this.parent=null,this._initWidgetsDone=!1,this.html=null,this._bindings=[],this._processing=null,this.delegateIds=[],this.cfgOk=!0,this.tplCtxt=e,this.delegateCallbacks=[],this.isRoot=n&&n.isRoot===!0,this.idMap=n&&n.ownIdMap?{}:null,this._cfg=t,this._normalizeCallbacks(),this.delegateId=aria.utils.Delegate.add({fn:this._onDomEvent,scope:this});if(this.isRoot)return;try{aria.core.JsonValidator.normalize({json:t,beanName:"aria.templates.CfgBeans."+
this.$class+"Cfg"},!0)}catch(f){this.cfgOk=!1;var l=aria.core.Log;if(l){for(var c=0,h=f.errors.length,p;c<h;c++)p=f.errors[c],p.message=l.prepareLoggedMessage(p.msgId,p.msgArgs);this.$logError(this.INVALID_CONFIGURATION,[this.tplCtxt.tplClasspath,t.id],f)}return}u=t.type,s=t.bindRefreshTo,o=t.id;var d;if(o){if(!r.test(o)){this.$logError(this.INVALID_SECTION_ID,[this.tplCtxt.tplClasspath,o]),this.cfgOk=!1;return}o.indexOf("+")>-1&&(Aria.testMode&&(d=this.tplCtxt.$getAutoId(o)),delete t.id,o=null)}this.domType=
u,this._domId=d||(o?this.tplCtxt.$getId(o):this._createDynamicId()),this.id=o||"_gen_"+this._domId,this.cssClass=t.cssClass,this.keyMap=t.keyMap,this.tableNav=t.tableNav,this.processingLabel=t.processingLabel,this.__skipProcessingChange=!1,this.macro=t.macro?e.checkMacro(t.macro):null,this.wrapper=null;for(var v=0;i=s[v];v++)this.registerBinding(i,this._notifyDataChange);this.registerProcessing(t.bindProcessingTo),this._refreshMgrInfo=null,this.attributes=t.attributes;var m=t.bind&&t.bind.attributes?t.bind.attributes
:null;m&&(this.attributes=m.inside[m.to],this.registerBinding(m,this._notifyAttributeChange))},$destructor:function(){this.removeDelegateIdsAndCallbacks(),this._releaseAllDynamicIds(),this.delegateId&&(aria.utils.Delegate.remove(this.delegateId),this.delegateId=null),this._content&&(this.removeContent(),this.id&&this.idMap&&(this.idMap[this.id]=null,delete this.idMap[this.id]),this._content=null,this.idMap=null);var e=this.parent;e&&(this.parent=null,e.removeSubSection(this)),this._listenersStopped!==!0&&this
.stopListeners(),this._processing=null,this.setDom(null),this.html=null,this._refreshMgrInfo=null,this.tplCtxt=null,this._cfg=null},$events:{beforeRemoveContent:"Raised just before the section content is disposed.",afterRemoveContent:"Raised just after the section content is disposed."},$statics:{MISSING_TO_BINDING:"Invalid Binding Configuration: 'to' is mandatory",INVALID_TO_BINDING:"Invalid Binding Configuration: 'to' must be a Boolean value or null",WIDGETCALL_ERROR:"Error in '%2' for widget '%1'.",INVALID_SECTION_ID
:"Error in template '%1': invalid section id '%2'.",SECTION_ALREADY_EXISTS:"Error in template '%1': section uses already used id '%2'.",SECTION_BINDING_ERROR:"Section binding failed. Inside: %1, to: %2. Section id: %3, template: %4.",INVALID_CONFIGURATION:"Error in template '%1': invalid configuration for section id '%2'.",WIDGET_ID_NOT_UNIQUE:"The %1 widget with id %2 does not have a unique id",SECTION_CALLBACK_ERROR:"The callback function raised an exception. Template: '%1'\nSection: '%2'\nEvent: '%3' "},$prototype
:{$init:function(e,t,n){e.__navigationManager=aria.templates.NavigationManager,e.__json=aria.utils.Json},_type:t,initWidgets:function(){var e=[];if(this._initWidgetsDone)return e;this._initWidgetsDone=!0,this.html=null;var t=this._content,r=t.length;for(var i=0;i<r;i++){var s=t[i];if(s._type==n){var o=s.behavior;if(o.initWidget)try{o.initWidget(),o.isDiffered&&e.push(o)}catch(u){this.$logError(this.WIDGETCALL_ERROR,[o.$classpath,"initWidget"],u)}}else e=e.concat(s.initWidgets())}return this.refreshProcessingIndicator
(),e},removeContent:function(){this.$raiseEvent("beforeRemoveContent"),this._removingContent=!0;var e=this._content,t=e.length;for(var r=0;r<t;r++){var i=e[r];if(i._type==n){var s=i.behavior;i.id&&this.idMap&&(this.idMap[i.id]=null,delete this.idMap[i.id]),s.$dispose()}else i.$dispose()}this._content=[],this._initWidgetsDone=!1,this._removingContent=!1,this.$raiseEvent("afterRemoveContent")},removeDelegateIdsAndCallbacks:function(){if(this.delegateIds){for(var e=0,t=this.delegateIds.length;e<t;e++)aria.utils
.Delegate.remove(this.delegateIds[e]);this.delegateIds=[]}for(var e=0,t=this.delegateCallbacks.length;e<t;e++)this.delegateCallbacks[e].$dispose();this.delegateCallbacks=[]},addBehavior:function(e){var t=e.getId?e.getId():null,r={_type:n,behavior:e,section:this,id:t};t&&this.idMap&&(this.idMap[t]?(this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,t,e.$class]),r.id=null):this.idMap[t]=r),this._content.push(r)},getBehaviorById:function(e){var t=this.idMap?this.idMap[e]:null;return t&&t._type==
n?t.behavior:null},getSectionById:function(e){var n=this.idMap?this.idMap[e]:null;return n&&n._type==t?n:null},addSubSection:function(e){this.$assert(141,!e.parent),this.$assert(142,e._type==t),this.$assert(143,e.tplCtxt==this.tplCtxt),e.parent=this,e.__updateIdMap(this.idMap),this._content.push(e)},__updateIdMap:function(e){if(this.idMap==e)return;this.idMap=e;var n=this.id;n&&e&&(e[n]?this.$logError(this.SECTION_ALREADY_EXISTS,[this.tplCtxt.tplClasspath,n]):e[n]=this);var r=this._content,i=r.length;for(var s=0
;s<i;s++){var o=r[s];o._type==t?o.__updateIdMap(e):(n=o.id,n&&e&&(e[n]?this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,n,o.behavior.$class]):e[n]=o))}},removeSubSection:function(e){this._removingContent||aria.utils.Array.remove(this._content,e)},registerBinding:function(e,t){if(e){var n={fn:t||this._notifyDataChange,scope:this,args:{tplCtxt:this.tplCtxt}};try{e.recursive=e.recursive!==!1,this.__json.addListener(e.inside,e.to,n,!0,e.recursive),this._bindings.push({inside:e.inside,callback:
n,to:e.to,recursive:e.recursive})}catch(r){this.$logError(this.SECTION_BINDING_ERROR,[e.inside,e.to,this.id,this.tplCtxt.tplClasspath])}}},__isValidProcessingBind:function(e){if(!e||e.to==null)return this.$logError(this.MISSING_TO_BINDING),!1;var t=e.inside[e.to];return t==null||aria.utils.Type.isBoolean(t)?!0:(this.$logError(this.INVALID_TO_BINDING),!1)},registerProcessing:function(e){if(!e||!this.__isValidProcessingBind(e))return;this.registerBinding(e,this._notifyProcessingChange),this._processing={inside
:e.inside,to:e.to}},registerProcessingIndicator:function(e,t){var n=this._processing,r=!!n;this.tplCtxt.registerProcessingIndicator(e,t,this.id),r&&(this.__skipProcessingChange=!0,this.__json.setValue(n.inside,n.to,e),this.__skipProcessingChange=!1)},refreshProcessingIndicator:function(e){if(e){var t=this._content;for(var n=0,r=t.length;n<r;n++)t[n].refreshProcessingIndicator?t[n].refreshProcessingIndicator(!0):t[n].behavior&&t[n].behavior.subTplCtxt&&t[n].behavior.subTplCtxt.refreshProcessingIndicator()}var i=
this._processing,s=!!i;s&&i.inside[i.to]&&this.getWrapper().setProcessingIndicator(!0,this.processingLabel)},_notifyDataChange:function(e,t){if(!this._initWidgetsDone||!t.tplCtxt._cfg||!t.tplCtxt._cfg.tplDiv)return;this.macro?t.tplCtxt.$refresh({outputSection:this.id,macro:this.macro}):t.tplCtxt.$refresh({filterSection:this.id})},_notifyAttributeChange:function(e){var t,n=this.getDom(),r;if(this._cfg.bind&&e.dataName===this._cfg.bind.attributes.to){for(t in e.oldValue)e.oldValue.hasOwnProperty(t)&&!e.newValue
[t]&&n.removeAttribute(t);for(t in e.newValue)e.newValue.hasOwnProperty(t)&&!aria.utils.Json.isMetadata(t)&&aria.templates.DomElementWrapper.attributesWhiteList.test(t)&&e.newValue[t]!==e.oldValue[t]&&e.newValue[t]!=null&&n.setAttribute(t,e.newValue[t])}else aria.templates.DomElementWrapper.attributesWhiteList.test(e.dataName)&&e.newValue!==e.oldValue&&(r=e.newValue?!1:!0,r?n.removeAttribute(e.dataName,e.newValue):n.setAttribute(e.dataName,e.newValue))},_notifyProcessingChange:function(e){if(this.__skipProcessingChange
)return;this.getWrapper().setProcessingIndicator(e.newValue,this.processingLabel)},getWrapper:function(){var e=this.wrapper;return e||(this.wrapper=e=new aria.templates.SectionWrapper(this.getDom(),this)),e},writeBegin:function(e){if(this.domType){var t=this.cssClass?' class="'+this.cssClass+'"':"",n=this.attributes?aria.utils.Html.buildAttributeList(this.attributes):"",r=["<",this.domType,n,t,' id="',this._domId,'" ',aria.utils.Delegate.getMarkup(this.delegateId),">"];e.write(r.join(""))}},writeEnd:function(
e){this.domType&&e.write("</"+this.domType+">")},_onDomEvent:function(e){this.__navigationManager.handleNavigation(this.keyMap,this.tableNav,e);if(this._cfg&&this._cfg.on){var t=this._cfg.on[e.type];if(t){var n=new aria.templates.DomEventWrapper(e),r;try{r=t.fn.call(t.scope,n,t.args)}catch(i){this.$logError(this.SECTION_CALLBACK_ERROR,[this.tplCtxt.tplClasspath,this._cfg.id,e.type],i)}return n.$dispose(),r}}},_normalizeCallbacks:function(){var e=this._cfg?this._cfg.on:null;if(e)for(var t in e)e.hasOwnProperty
(t)&&(e[t]=this.$normCallback(e[t]))},copyConfigurationTo:function(e){this.$assert(708,e.idMap==null),e.id=this.id,e.domType=this.domType,e.tableNav=this.tableNav,e.keyMap=this.keyMap,e.macro=this.macro},notifyRefreshPlanned:function(e){var t=this._registerInRefreshMgr();t.queue=null,t.refreshArgs=e},_registerInRefreshMgr:function(){var e=this._refreshMgrInfo;return e||(e={refreshArgs:null,queue:[]},this._refreshMgrInfo=e,aria.templates.RefreshManager.queue({fn:this._refreshManagerCallback,scope:this},this))
,e},_refreshManagerCallback:function(){var e=this._refreshMgrInfo;if(!e)return;this._refreshMgrInfo=null;var t=e.queue;t||this.tplCtxt.$refresh(e.refreshArgs)},beforeRefresh:function(e){var t=this.macro;if(t)if(!e.macro)e.macro=t;else{var n=e.macro;aria.utils.Type.isObject(n)&&!n.name&&(n.name=t.name,n.scope=t.scope,n.args||(n.args=t.args))}this._domElt=null},getDom:function(){return this._domElt||(this._domElt=aria.utils.Dom.getElementById(this._domId)),this._domElt},setDom:function(e){this._domElt=e,this.wrapper&&
(this.wrapper.$dispose(),this.wrapper=null)},_createDynamicId:function(){var t=e.getId();return this._dynamicIds?this._dynamicIds.push(t):this._dynamicIds=[t],t},_releaseAllDynamicIds:function(){var t=this._dynamicIds;if(t){for(var n=t.length-1;n>=0;n--)e.releaseId(t[n]);this._dynamicIds=null}},moveContentTo:function(e){var n=this._content;this.$assert(805,this.idMap==null),this.$assert(806,n);var r=e._content,i=r.length;for(var s=0,o=n.length;s<o;s++){var u=n[s];r[i+s]=u,u._type==t&&(u.parent=e)}this.__updateIdMap
(e.idMap),e.delegateIds=e.delegateIds.concat(this.delegateIds),e.delegateCallbacks=e.delegateCallbacks.concat(this.delegateCallbacks),this.delegateIds=[],this.delegateCallbacks=[];var a=null;return e._initWidgetsDone&&(a=this.initWidgets()),this.idMap=null,this._content=[],a},stopListeners:function(){this.$assert(838,this._listenersStopped!==!0),this._listenersStopped=!0;var e=this._bindings;if(e)for(var t=0,n;n=e[t];t++)this.__json.removeListener(n.inside,n.to,n.callback,n.recursive)},resumeListeners:function(
){this.$assert(859,this._listenersStopped===!0),this._listenersStopped=!1;var e=this._bindings;if(e)for(var t=0,n;n=e[t];t++)this.__json.addListener(n.inside,n.to,n.callback,!0,n.recursive)},writeContent:function(e){this.macro&&e.callMacro(this.macro)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/SectionWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.SectionWrapper",$extends:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.DomOverlay","aria.utils.Dom"],$constructor:function(e,t){if(e)while(e.nodeType!=1)e=e.parentNode;this.$DomElementWrapper.constructor.call(this,e,t.tplCtxt),this.insertAdjacentSection=function(n,r){if(n!="beforeBegin"&&n!="afterBegin"&&n!="beforeEnd"&&n!="afterEnd"){this.$logError(aria.utils.Dom.INSERT_ADJACENT_INVALID_POSITION,[n]);return}t.tplCtxt.insertAdjacentSections({position
:n,refSection:{domElt:e,object:t},sections:[r]})},this.remove=function(){t.$dispose();var n=e.parentNode;aria.utils.Dom.removeElement(e),aria.utils.Dom.refreshDomElt(n),this.$dispose()},this.setProcessingIndicator=function(n,r){var i,s=!0;n?i=aria.utils.DomOverlay.create(e,r):(i=aria.utils.DomOverlay.detachFrom(e),i||(s=!1)),s&&t.registerProcessingIndicator(n,i)};var n=this.classList.setClassName;this.classList.setClassName=function(e){n.call(this,e),t.cssClass=e};var r=this.setClassName;this.setClassName=function(
e){r.call(this,e),t.cssClass=e};var i=this._dispose;this._dispose=function(){i.call(this),t=null,i=null,r=null}},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/templates/Statements.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.Statements",$dependencies:["aria.utils.String","aria.templates.Modifiers","aria.utils.Path","aria.utils.Delegate"],$singleton:!0,$statics:{SHOULD_BE_IN_MACRO:"line %2: Template error: statement '%1' cannot be used out of a macro.",TEMPLATE_STATEMENT_MISUSED:"Template error: the '%1' statement is misused, it should only be used as the root statement in a template.",ELSE_WITHOUT_IF:"line %1: Template error: 'else' or 'elseif' is used outside an 'if' structure.",
ELSEIF_AFTER_ELSE:"line %1: Template error: 'elseif' is used after 'else' in the same 'if' structure.",ELSE_ALREADY_USED:"line %1: Template error: an 'else' statement has already been used in this 'if' structure.",INVALID_WIDGET_SYNTAX:"line %1: Template error: invalid syntax for the widget statement; expected syntax: @lib:widget",UNDECLARED_WIDGET_LIBRARY:"line %2: Template error: found widget library '%1', which is undeclared in the wlibs parameter of the 'Template' statement.",INVALID_MODIFIER_SYNTAX:"line %2: Template error: invalid modifier syntax '%1'."
,UNKNOWN_WIDGET:"line %2: Template error: unknown widget '%1'.",MACRO_ALREADY_DEFINED:"line %3: Template error: macro '%1' is already defined line %2.",SEPARATOR_NOT_FIRST_IN_FOREACH:"line %1: Template error: the separator statement can only be used as the first statement inside a {foreach ...} ... {/foreach} loop.",INCOMPATIBLE_CREATEVIEW:"line %2: Template error: two createView statements with the same view base name must have the same depth (previous definition line %1).",INCORRECT_VARIABLE_NAME:"line %2: Template error: incorrect variable name '%1'."
,INVALID_FOREACH_INKEYWORD:"line %2: Template error: invalid foreach syntax, expected one of 'in', 'inView', 'inFilteredView', 'inSortedView', 'inPagedView' but found: '%1'.",INVALID_WIDGET_LIBRARY:"line %3: Template error: %1 (%2) is not a valid widget library. A widget library must extend aria.widgetLibs.WidgetLib.",INVALID_EVENT_TYPE:"The event type: '%1' is an invalid event type."},$constructor:function(){var e=aria.utils.String,t=aria.templates.Modifiers,n=aria.utils.Path,r=this,i={inMacro:!1,container:!0
,process:function(e,t){return e.logError(t,r.TEMPLATE_STATEMENT_MISUSED,[t.name])}};this.ALLSTATEMENTS={Template:i,Library:i,CSSTemplate:i,CSSLibrary:i,TextTemplate:i,"#TEXT#":{container:!1,process:function(e,t){if(e.isOutputReady()){var n=e.stringify(t.paramBlock);e.writeln("this.__$write(",n,",",t.lineNumber,");")}else t.paramBlock.replace(/[ \t\r\n]+/gm,"")!==""&&e.logError(t,r.SHOULD_BE_IN_MACRO,["#TEXT# - "+t.paramBlock])}},"#CDATA#":{inMacro:!0,container:!1,process:function(e,t){var n=e.stringify(t.paramBlock
);e.writeln("this.__$write(",n,",",t.lineNumber,");")}},"#EXPRESSION#":{inMacro:!0,container:!1,process:function(n,i,s){var o=i.paramBlock,u=e.indexOfNotEscaped(o,"|"),a=[];while(u!=-1)a.push(o.substr(0,u)),o=o.substr(u+1),u=e.indexOfNotEscaped(o,"|");a.push(o);var f=!0,l=s.escapeModifier;if(!l)f=!1;else for(var c=a.length-1;c>=1;c--){var h=a[c];if(h.indexOf(l)===0){f=!1;break}}var f=!1;f&&a.splice(1,0,l);var p=[],d=[],v,m=/^(\w+)(?::([\s\S]*))?$/;for(var c=a.length-1;c>=1;c--){var g=a[c],y=m.exec(g);if(!y)return n
.logError(i,r.INVALID_MODIFIER_SYNTAX,[g]);var b=y[1];t.initModifier(b,n),p.push("this.$modifier('"+b+"',["),v=y[2],v?(d[c]=", "+v,f&&(d[c]+=", '"+l+"'"),d[c]+="])"):d[c]="])"}v=a[0],p.push(v),v=p.concat(d).join(""),n.debug&&(v=n.wrapExpression(v,i,"this.EXCEPTION_IN_EXPRESSION")),n.writeln("this.__$write(",v,",",i.lineNumber,");")}},separator:{inMacro:!0,container:!0,paramRegexp:/^$/,process:function(e,t){var n=t.parent,i=n.content[0]==t||n.content[1]==t&&n.content[0].name=="#TEXT#";if(n.name!="foreach"||!i
){e.logError(t,r.SEPARATOR_NOT_FIRST_IN_FOREACH);return}var s=n[Aria.FRAMEWORK_PREFIX+"foreachCounter"];e.writeln("if (",s,">1) {"),e.increaseIndent(),e.processContent(t.content),e.decreaseIndent(),e.writeln("}")}},id:{inMacro:!0,container:!1,paramRegexp:/^\s*(\S[\s\S]*)\s*$/,process:function(e,t,n){var r=n[0];e.writeln("this.__$writeId(",r,",",t.lineNumber,");")}},on:{inMacro:!0,container:!1,paramRegexp:/^(\w+)\s+([\s\S]+)$/,process:function(e,t,n){var i=n[1],s=n[2],o=aria.utils.Delegate,u=o.delegatedGestures
[i];u&&e.addDependency(u),o.supportedEvents[i]||e.logWarn(t,r.INVALID_EVENT_TYPE,[i]),e.writeln("this.__$statementOnEvent(",e.stringify(i),",this.$normCallback(",s,"),",t.lineNumber,");")}},bindRefreshTo:{inMacro:!0,container:!1,paramRegexp:/^([\s\S]+)$/,process:function(t,r,i){var s=r.paramBlock,o,u;u=n.parse(e.trim(s)),u.length>1?(i=t.stringify(u.pop()),o=n.pathArrayToString(u)):(i="null",o=u[0]),t.writeln("this.__$bindAutoRefresh(",o,", ",i,", ",r.lineNumber,");")}},"if":{inMacro:!0,container:!0,process:function(
e,t){var n=t.paramBlock;e.writeln("if (",n,") {"),e.increaseIndent(),e.processContent(t.content),delete t[Aria.FRAMEWORK_PREFIX+"elsepresent"],e.decreaseIndent(),e.writeln("}")}},elseif:{inMacro:!0,container:!1,process:function(e,t){var n=t.paramBlock,i=t.parent;if(i.name!="if")return e.logError(t,r.ELSE_WITHOUT_IF);if(i[Aria.FRAMEWORK_PREFIX+"elsepresent"])return e.logError(t,r.ELSEIF_AFTER_ELSE);e.decreaseIndent(),e.writeln("} else if (",n,") {"),e.increaseIndent()}},"else":{inMacro:!0,container:!1,paramRegexp
:/^$/,process:function(e,t){var n=t.parent;if(n.name!="if")return e.logError(t,r.ELSE_WITHOUT_IF);if(n[Aria.FRAMEWORK_PREFIX+"elsepresent"])return e.logError(t,r.ELSE_ALREADY_USED);n[Aria.FRAMEWORK_PREFIX+"elsepresent"]=!0,e.decreaseIndent(),e.writeln("} else {"),e.increaseIndent()}},createView:{inMacro:undefined,container:!1,paramRegexp:/^([_\w]+)(\[([^\[\]]+(\]\[[^\[\]])*)\])?\s+on\s+([\s\S]+)$/,process:function(e,t,n){var i=n[1];if(Aria.isJsReservedWord(i))return e.logError(t,r.INCORRECT_VARIABLE_NAME,[i]
);var s=n[3],o=n[5],u=[],a=0;s?(u=s.split("]["),a=u.length,s=["[(",u.join("),("),")]"].join("")):s="[]";var f=e.getView(i);if(f.firstDefinition){if(f.nbParams!=a){e.logError(t,r.INCOMPATIBLE_CREATEVIEW,[f.firstDefinition.lineNumber]);return}}else f.firstDefinition=t,f.nbParams=a;e.addDependency("aria.templates.View");var l=!e.isOutputReady();l&&e.enterBlock("globalVars"),e.writeln(l?"this.":"var ",i,"=this.__$createView(",e.stringify(i),",",s,",(",o,"));"),l&&e.leaveBlock()}},"for":{inMacro:!0,container:!0,process
:function(e,t){e.writeln("for (",t.paramBlock,") {"),e.increaseIndent(),e.processContent(t.content),e.decreaseIndent(),e.writeln("}")}},foreach:{inMacro:!0,container:!0,paramRegexp:/^([_\w]+)\s+(\w+)\s+([\s\S]+)$/,process:function(e,t,n){var i=e.newVarName(),s=n[1];if(Aria.isJsReservedWord(s))return e.logError(t,r.INCORRECT_VARIABLE_NAME,[s]);var o=n[2];if(o!="in"&&o!="inArray"&&o!="inView"&&o!="inSortedView"&&o!="inFilteredView"&&o!="inPagedView")return e.logError(t,r.INVALID_FOREACH_INKEYWORD,[o]);var u=o!="in"&&
o!="inArray";o=="inView"&&(o="inPagedView");var a=n[3],f=s+"_index";e.debug&&(a=e.wrapExpression(a,t,"this.ITERABLE_UNDEFINED")),e.writeln("var ",i,"=(",a,");"),e.writeln("if(",a,"==undefined){"),e.increaseIndent(),e.writeln("this.$logError(this.ITERABLE_UNDEFINED,[",e.stringify(t.name),", ",t.lineNumber,"]);"),e.decreaseIndent(),e.writeln("}");var l=s+"_ct";t[Aria.FRAMEWORK_PREFIX+"foreachCounter"]=l,e.writeln("var ",l,"=0;");var c;if(u){c=e.newVarName(),e.writeln(i,".refresh();");if(o=="inPagedView"){var h=
e.newVarName();e.writeln("var ",h,"=",i,".currentPageIndex;"),e.writeln("var ",c,"=",i,".pages[",h,"].lastItemIndex;"),e.writeln("for (var ",f,"=",i,".pages[",h,"].firstItemIndex;",f,"<=",c,";",f,"++) {")}else e.writeln("var ",c,"=",i,".items.length;"),e.writeln("for (var ",f,"=0;",f,"<",c,";",f,"++) {");e.increaseIndent(),e.writeln("var ",s,"_info=",i,".items[",f,"];"),o=="inPagedView"?e.writeln("if (",s,"_info.pageIndex==",h,") {"):o=="inFilteredView"&&e.writeln("if (",s,"_info.filteredIn) {"),e.increaseIndent
(),e.writeln("var ",s,"=",s,"_info.value;")}else o=="inArray"?(c=e.newVarName(),e.writeln("var ",c,"=",i,".length;"),e.writeln("for (var ",f,"=0;",f,"<",c,";",f,"++) {"),e.increaseIndent(),e.writeln("var ",s,"=",i,"[",f,"];")):(e.writeln("for (var ",f," in ",i,") {"),e.increaseIndent(),e.writeln("if (",i,".hasOwnProperty(",f,") && !this.$json.isMetadata(",f,")) {"),e.increaseIndent(),e.writeln("var ",s,"=",i,"[",f,"];"));e.writeln(l,"++;"),e.processContent(t.content),o!="inSortedView"&&o!="inArray"&&(e.decreaseIndent
(),e.writeln("}")),e.decreaseIndent(),e.writeln("}")}},repeater:{inMacro:!0,container:!1,process:function(e,t){var n=t.paramBlock;e.debug&&(n=e.wrapExpression(n,t,"this.EXCEPTION_IN_REPEATER_PARAMETER")),e.addDependency("aria.templates.Repeater"),e.writeln("this.__$statementRepeater(",t.lineNumber,",(",n,"));")}},macro:{inMacro:!1,container:!0,paramRegexp:/^([_\w]+)\s*(\(\s*([_\w]+\s*(,\s*[_\w]+\s*)*)?\))\s*$/,process:function(e,t,n){var i=n[1],s=e.getMacro(i);if(s.definition!=null)return e.logError(t,r.MACRO_ALREADY_DEFINED
,[i,s.definition.lineNumber]);s.definition=t,e.enterBlock("prototype"),e.writeln("macro_",i,": function ",n[2],"{"),e.increaseIndent(),e.writeln("try {"),e.increaseIndent(),e.writeln("with (this) {"),e.increaseIndent(),e.processContent(t.content),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("} catch (_ex) {"),e.increaseIndent(),e.writeln("this.$logError(this.EXCEPTION_IN_MACRO,[",e.stringify(i),", this['"+Aria.FRAMEWORK_PREFIX+"currentLineNumber']],_ex);"),e.decreaseIndent(),e.writeln("}"),
e.decreaseIndent(),e.writeln("},"),e.leaveBlock()}},memo:{inMacro:!0,container:!0,paramRegexp:/^[\S\s]*$/,process:function(e,t,n){e.processContent(t.content)}},call:{inMacro:!0,container:!1,paramRegexp:/^(\$?[_\w]+\.)?([_\w]+)\s*\(([\s\S]*)\)\s*$/,process:function(e,t,n){var r=n[1],i=n[2],s=n[3],o,u;r?(o="this."+r+"macro_"+i,r.charAt(0)=="$"?u=o+".apply(this,["+s+"]);":u=o+"("+s+");"):(o="this.macro_"+i,u=o+"("+s+");");if(e.debug){var a=r?r+i:i;e.writeln("if (",o," == null) {"),e.increaseIndent(),e.writeln("this.$logError(this.MACRO_NOT_FOUND,["
,t.lineNumber,",",e.stringify(a),"]);"),e.decreaseIndent(),e.writeln("}")}e.writeln(u)}},section:{inMacro:!0,container:null,process:function(e,t){var n=t.paramBlock,r=t.content?"true":"false";e.writeln("this.__$beginSection(",t.lineNumber,",",r,",",n,");"),t.content&&e.processContent(t.content),e.writeln("this.__$endSection();")}},"var":{inMacro:undefined,container:!1,paramRegexp:/^([_\w]+)\s*=([\s\S]*)$/,process:function(e,t,n){var i=n[1],s=n[2];if(Aria.isJsReservedWord(i))return e.logError(t,r.INCORRECT_VARIABLE_NAME
,[i]);e.isOutputReady()?(e.debug&&(s=e.wrapExpression(s,t,"this.EXCEPTION_IN_VAR_EXPRESSION")),e.writeln("var ",i,"=(",s,");")):(e.enterBlock("globalVars"),e.debug&&(s=e.wrapExpression(s,t,"this.EXCEPTION_IN_VAR_EXPRESSION")),e.writeln("this.",i,"=(",s,");"),e.leaveBlock())}},set:{inMacro:!0,container:!1,paramRegexp:/^([_\w]+(?:\.[_\w]+)*)\s*([\+\-]?\=)([\s\S]*)$/,process:function(e,t,n){var i=n[1],s=n[2],o=n[3],u=i.split(".");for(var a=0,f=u.length;a<f;a++)if(Aria.isJsReservedWord(u[a]))return e.logError(t,
r.INCORRECT_VARIABLE_NAME,[i]);e.debug&&(o=e.wrapExpression(o,t,"this.EXCEPTION_IN_SET_EXPRESSION")),e.writeln(i,s,"(",o,");")}},checkDefault:{inMacro:!0,container:!1,paramRegexp:/^([_\w]+)\s*\=([\s\S]*)$/,process:function(e,t,n){var i=n[1],s=n[2];if(Aria.isJsReservedWord(i))return e.logError(t,r.INCORRECT_VARIABLE_NAME,[i]);e.debug&&(s=e.wrapExpression(s,t,"this.EXCEPTION_IN_CHECKDEFAULT_EXPRESSION")),e.writeln("if (",i,"===undefined) {"),e.increaseIndent(),e.writeln(i,"=(",s,");"),e.decreaseIndent(),e.writeln
("}")}},"@":{inMacro:!0,container:null,process:function(e,t){var n=/^@(\w+):(\w+)$/.exec(t.name);if(!n||n.length!=3)return e.logError(t,r.INVALID_WIDGET_SYNTAX);var i=n[1],s=n[2],o=e.templateParam.$wlibs[i];if(o===undefined)return e.logError(t,r.UNDECLARED_WIDGET_LIBRARY,[i]);var u=e.wlibs[i];if(!u){u=Aria.getClassRef(o);if(!aria.utils.Type.isInstanceOf(u,"aria.widgetLibs.WidgetLib"))return e.logError(t,r.INVALID_WIDGET_LIBRARY,[i,o]);e.wlibs[i]=u}var a=u.getWidgetDependencies(s,e.allDependencies);if(!a)return e
.logError(t,r.UNKNOWN_WIDGET,[t.name]);e.addDependencies(a);var f=t.paramBlock;if(f.length===0)f="undefined";else{var l=[],c=/[\'\"](aria\.widgets\.transform\.(.+))[\'\"]/g,h=c.exec(f);while(h)l.push(h[1]),h=c.exec(f);e.addDependencies(l)}e.debug&&f!="undefined"&&(f=e.wrapExpression(f,t,"this.EXCEPTION_IN_CONTROL_PARAMETERS")),t.content?(e.writeln("if (this.__$beginContainerWidget(",e.stringify(o),",",e.stringify(s),",(",f,"),",t.lineNumber,")) {"),e.increaseIndent(),e.processContent(t.content),e.writeln("this.__$endContainerWidget();"
),e.decreaseIndent(),e.writeln("}")):e.writeln("this.__$processWidgetMarkup(",e.stringify(o),",",e.stringify(s),",(",f,"),",t.lineNumber,");")}}}}});
//*******************
//LOGICAL-PATH:aria/templates/Template.js
//*******************
(function(){var e=function(e){(!e||!e.changedProperties||aria.utils.Array.contains(e.changedProperties,"contextualMenu"))&&Aria.load({classes:[n]})},t=function(){var e=aria.core.AppEnvironment.applicationSettings.contextualMenu;return e&&e.enabled},n="aria.tools.contextual.ContextualMenu",r=["aria.tools.contextual.environment.ContextualMenu","aria.templates.TemplateCtxt","aria.utils.Array","aria.utils.Json","aria.templates.ITemplate","aria.utils.environment.VisualFocus"];t()&&r.push(n),Aria.classDefinition({
$classpath:"aria.templates.Template",$extends:"aria.templates.BaseTemplate",$dependencies:r,$statics:{EXCEPTION_IN_CONTROL_PARAMETERS:"line %2: Uncaught runtime exception in control %3 for parameters '%1'",EXCEPTION_IN_REPEATER_PARAMETER:"line %2: Uncaught runtime exception in repeater parameter '%1'"},$onload:function(){var t=aria.tools.contextual.environment.ContextualMenu;t.getContextualMenu().enabled||aria.core.AppEnvironment.$on({environmentChanged:e,scope:{}})},$prototype:{$width:undefined,$height:undefined
,$init:function(e,t){e.$BaseTemplate.constructor.classDefinition.$prototype.$init(e,t);var n=aria.templates.ITemplate.prototype;for(var r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r]);e.$json=aria.utils.Json},onModuleEvent:function(e){},onFlowEvent:function(e){},$dataReady:function(){},$viewReady:function(){},$displayReady:function(){}}})})();
//*******************
//LOGICAL-PATH:aria/templates/TemplateCtxt.js
//*******************
(function(){var e,t,n,r=["$refresh","$getChild","$getElementById","$focus","$hdim","$vdim","getContainerScroll","setContainerScroll","__$writeId","__$processWidgetMarkup","__$beginContainerWidget","$getId","__$endContainerWidget","__$statementOnEvent","__$statementRepeater","__$createView","__$beginSection","__$endSection","__$bindAutoRefresh","$setFocusedWidget","$getFocusedWidget"],i=["data","moduleCtrl","flowCtrl","moduleRes"],s={},o=function(e){var t=s[e];return t==null&&(t=Aria.getClassRef(e),s[e]=t),t===
undefined&&this.$logError(this.WIDGET_LIBRARY_NOT_FOUND,[e,this.tplClasspath]),t},u=0;Aria.classDefinition({$classpath:"aria.templates.TemplateCtxt",$dependencies:["aria.templates.Layout","aria.templates.CfgBeans","aria.utils.Array","aria.utils.Function","aria.utils.Type","aria.templates.TemplateCtxtManager","aria.templates.RefreshManager","aria.templates.CSSMgr","aria.utils.Path","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.SectionWrapper","aria.core.environment.Customizations","aria.utils.Dom"
,"aria.templates.DomElementWrapper","aria.templates.MarkupWriter","aria.utils.DomOverlay"],$implements:["aria.templates.ITemplate","aria.templates.ITemplateCtxt"],$extends:"aria.templates.BaseCtxt",$onload:function(){e=aria.templates.Layout,t=aria.core.JsonValidator},$onunload:function(){e=null,t=null},$events:{Ready:{description:""}},$constructor:function(){this.$BaseCtxt.constructor.apply(this,arguments),this._differed=null,this._ready=!1,this.__dataGround=null,this.__wrappers=[],this.__loadingOverlays=[],
this.__loadingOverlaysSection={},this._cfg=null,this._persistentStorage=null,this._focusedWidgetPath=[],this._globalCssDepsLoaded=!1},$destructor:function(){aria.templates.TemplateCtxtManager.remove(this),this._cssClasses&&(aria.templates.CSSMgr.unloadDependencies(this),this._globalCssDepsLoaded&&(aria.templates.CSSMgr.unloadWidgetDependencies("aria.templates.Template",["aria.templates.GlobalStyle","aria.widgets.GlobalStyle"]),this._globalCssDepsLoaded=!1),this._cssClasses=null),this.__dataGround&&(aria.utils
.Json.setValue(this.__dataGround,"data",null),this.__dataGround=null),this.__disposeProcessingIndicators(),this.__disposeWrappers();var t=this._tpl;if(t){try{this.flowCtrl&&this.flowCtrl.$unregisterListeners(t),this.moduleCtrl&&this.moduleCtrl.$removeListeners({"*":{fn:t.onModuleEvent,scope:t,firstOnly:!0},beforeDispose:{fn:this._beforeModuleDispose,scope:this,firstOnly:!0}})}catch(n){this.$logError(this.TEMPLATE_EXCEPTION_REMOVING_LISTENERS,[this.tplClasspath],n)}try{t.$dispose()}catch(n){this.$logError(this
.TEMPLATE_DESTR_ERROR,[this.tplClasspath],n)}t.__$write=null;for(var s=0,o;o=i[s];s++)delete t[o];for(s=0;o=r[s];s++)delete t[o];this._tpl=null}var u=this._mainSection;u&&(u.$dispose(),this._mainSection=null);var a=this._cfg;if(a){var f=a.tplDiv;f&&(this.__removeDebugInfo(f),a.tplDiv=null);if(a.div){var l=aria.utils.Type.isObject;(l(a.width)||l(a.height))&&e.unregisterAutoresize(a.div),aria.utils.Dom.replaceHTML(a.div,""),a.div=null}if(a.toDispose){var c=a.toDispose;for(var h=c.length-1;h>=0;h--)c[h].$dispose
();a.toDispose=null,c=null}a.data=null,a.macro=null,this._cfg=null}this.data=null,this.moduleRes=null,this.moduleCtrl=null,this.moduleCtrlPrivate=null,this.flowCtrl=null,this.flowCtrlPrivate=null,this.$BaseCtxt.$destructor.call(this)},$statics:{WIDGET_LIBRARY_NOT_FOUND:"Error in template '%2': widget library '%1' was not found.",INVALID_STATE_FOR_REFRESH:"Error in template '%1': calling $refresh while the template is being refreshed is not allowed.",SECTION_OUTPUT_NOT_FOUND:"Error while refreshing template '%1': output section '%2' was not found."
,VAR_NULL_OR_UNDEFINED:"Template %2 \nLine %1: expression is null or undefined.",SECTION_BINDING_ERROR_SINGLE_VAR:"line %1: Cannot bind section to single variable except data. Binding must be something like container.parameter",SECTION_MACRO_MISUSED:"Template %1 \nline %2: section statement must either be a container or have a non-null macro property.",TEMPLATE_EXCEPTION_REMOVING_LISTENERS:"Error in template '%1' while removing module or flow listeners.",TEMPLATE_NOT_READY_FOR_REFRESH:"Error in template '%1': the $refresh method was called, but the template is not yet ready to be refreshed."
,FOCUS_FAILURE:"Focus failure: widget/element with id '%1' in '%2' does not exist or it is not yet ready for focus.",DATA_READY_EXCEPTION:"Error in template %1: an exception happened in $dataReady.",VIEW_READY_EXCEPTION:"Error in template %1: an exception happened in $viewReady.",DISPLAY_READY_EXCEPTION:"Error in template %1: an exception happened in $displayReady.",BEFORE_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $beforeRefresh.",AFTER_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $afterRefresh."
,ALREADY_REFRESHING:"$refresh was called while another refresh is happening on the same template (%1). This is not allowed. Please check bindings.",MISSING_MODULE_CTRL_FACTORY:"Template %1 cannot be initialized without aria.templates.ModuleCtrlFactory, make sure it is loaded"},$prototype:{dataReady:function(){try{this._tpl.$dataReady()}catch(e){this.$logError(this.DATA_READY_EXCEPTION,[this.tplClasspath],e)}},viewReady:function(){try{this._tpl.$viewReady()}catch(e){this.$logError(this.VIEW_READY_EXCEPTION,[this
.tplClasspath],e)}},displayReady:function(){try{this._tpl.$displayReady()}catch(e){this.$logError(this.DISPLAY_READY_EXCEPTION,[this.tplClasspath],e)}},beforeRefresh:function(e){if(this._tpl.$beforeRefresh)try{this._tpl.$beforeRefresh(e)}catch(t){this.$logError(this.BEFORE_REFRESH_EXCEPTION,[this.tplClasspath],t)}},afterRefresh:function(e){if(this._tpl.$afterRefresh)try{this._tpl.$afterRefresh(e)}catch(t){this.$logError(this.AFTER_REFRESH_EXCEPTION,[this.tplClasspath],t)}},$refresh:function(e){if(aria.templates
.RefreshManager.isStopped()){if(e){var n=e.outputSection||e.filterSection;if(n&&this._mainSection){var r=this._mainSection.getSectionById(n);if(r){r.notifyRefreshPlanned(e);return}}}aria.templates.RefreshManager.queue({fn:this.$refresh,args:e,scope:this},this)}else{if(!this._cfg.tplDiv){this.$logError(this.TEMPLATE_NOT_READY_FOR_REFRESH,[this.tplClasspath]);return}this._refreshing&&this.$logError(this.ALREADY_REFRESHING,[this.tplClasspath]),this._refreshing=!0,aria.templates.RefreshManager.stop(),aria.templates
.CSSMgr.stop(),this.$assert(304,!!this._tpl);var i={json:e,beanName:"aria.templates.CfgBeans.RefreshCfg"};t.normalize(i),e=i.json,this.beforeRefresh(e);var r=this.getRefreshedSection({filterSection:e.filterSection,outputSection:e.outputSection,macro:e.macro});this.__disposeProcessingIndicators(r),r&&!r.id&&this.__disposeWrappers(),aria.templates.CSSMgr.resume(),r!=null&&this.insertSection(r),this._refreshing=!1,aria.templates.RefreshManager.resume(),r!=null&&(this.afterRefresh(e),this.$raiseEvent({name:"SectionRefreshed"
,sectionID:r.id}))}},$getFocusedWidget:function(){return this._focusedWidgetPath},$setFocusedWidget:function(){var e=Aria.$window.document.activeElement;this._focusedWidgetPath=this._getWidgetPath(e)},_getWidgetPath:function(e){if(e.tagName==="BODY"||!aria.utils.Dom.isInDom(e))return[];var t=[];while(!e.__widget)e=e.parentElement||e.parentNode;var n=e.__widget.getId();if(!n)return[];t.unshift(n);var r=e.__widget._context;while(this!==r&&r!==null){n=r.getOriginalId();if(!n)return[];t.unshift(n),r=r.parent}return r===
null?[]:t},getOriginalId:function(){return this._cfg.originalId},getMarkup:function(e,t){this.$assert(299,this._cfg.tplDiv==null),this.$assert(301,this._mainSection==null);var n=this.getRefreshedSection({macro:e,filterSection:t,outputSection:null});return n.html},linkToPreviousMarkup:function(e){var t=this._cfg;this.$assert(320,e!=null),this.$assert(322,t.tplDiv==null),this.$assert(324,this._mainSection!=null),t.tplDiv=e,t.div=e.parentNode?e.parentNode:null,this.__addDebugInfo(e),this.insertSection(this._mainSection
,!0),this.afterRefresh(),this.$raiseEvent({name:"SectionRefreshed",sectionID:null})},__addDebugInfo:function(e){e&&e.setAttribute&&(e.setAttribute("_template",this.tplClasspath),e.__template=this._tpl,e.__moduleCtrl=this.moduleCtrlPrivate?this.moduleCtrlPrivate:this.moduleCtrl,e.__data=this.data)},__removeDebugInfo:function(e){e&&(e.__data=null,e.__moduleCtrl=null,e.__template=null)},getRefreshedSection:function(e){var n={json:e,beanName:"aria.templates.CfgBeans.GetRefreshedSectionCfg"};t.normalize(n),e=n.json
;var r=e.outputSection,i=e.filterSection;r===undefined&&(r=i);var s=null;if(r!=null){s=this._mainSection?this._mainSection.getSectionById(r):null;if(s==null)return this.$logError(this.SECTION_OUTPUT_NOT_FOUND,[this.tplClasspath,r]),null;s.beforeRefresh(e),s.stopListeners()}var o=e.writerCallback;o==null&&(o={fn:this._callMacro,args:e.macro,scope:this});var u=this.createSection(o,{filterSection:i,ownIdMap:s==null});if(u==null)return null;if(s==null)this._mainSection&&this._mainSection.$dispose(),this._mainSection=
u;else if(i){s.copyConfigurationTo(u);var a=s.parent;this.$assert(402,a!=null),s.$dispose(),a.addSubSection(u)}else s.removeContent(),s.removeDelegateIdsAndCallbacks(),u.moveContentTo(s),s.html=u.html,u.$dispose(),u=s,u.resumeListeners();return u},_setOut:function(e){this._out=e;var t=this._macrolibs||[];for(var n=0,r=t.length;n<r;n++)t[n]._setOut(e)},insertAdjacentSections:function(e){var n=e.position,r={json:e,beanName:"aria.templates.CfgBeans.InsertAdjacentSectionsCfg"};t.normalize(r);var i=this.createSection
({fn:this.__dynamicSectionWriter,scope:this,args:e});aria.utils.Dom.insertAdjacentHTML(e.refSection.domElt,n,i.html),aria.utils.Dom.refreshDomElt(this._cfg.tplDiv);var s=e.refSection.object;if(n=="beforeBegin"||n=="afterEnd")s=s.parent;this.$assert(459,s);var o=i.moveContentTo(s);i.$dispose(),this.$assert(466,o),this.__processDifferedItems(o);for(var u=0;u<e.sections.length;u++)this.afterRefresh({outputSection:e.sections[u].id})},__dynamicSectionWriter:function(e,t){var n=t.sections;for(var r=0,i=n.length;r<
i;r++)this.__$beginSection(null,!1,n[r]),this.__$endSection()},createSection:function(e,t){if(this._out!=null)return this.$logError(this.INVALID_STATE_FOR_REFRESH,[this.tplClasspath]),null;var n=new aria.templates.MarkupWriter(this,t),r=null;return this._setOut(n),this.$callback(e,n),r=n.getSection(),n.$dispose(),this._setOut(null),r},insertSection:function(t,n){var r,i=this._cfg,s=this._tpl,o=t.id?t.getDom():i.tplDiv;o&&(n||(o=aria.utils.Dom.replaceHTML(o,t.html),t.setDom(o)),t.id||e.setDivSize(o,s.$width,s
.$height,"hidden"),aria.utils.Delegate.addExpando(o,t.delegateId),r=t.initWidgets(),this.__processDifferedItems(r)),n||(this.$assert(743,i.tplDiv&&s),aria.utils.Dom.refreshDomElt(i.tplDiv))},__processDifferedItems:function(e){if(e.length>0){for(var t=0,n=e.length;t<n;t++)e[t].$onOnce({ElementReady:this.__checkContextReadyCb,scope:this});this._differed=e}else this.__checkContextReadyCb()},__checkContextReadyCb:function(e){if(e){var t=e.src,n=this._differed;n&&aria.utils.Array.remove(n,t)}if(!n||!n.length)this
._differed=null,this._ready=!0,this.displayReady(),this.$raiseEvent("Ready")},__$processWidgetMarkup:function(e,t,n,r){var i=this._out;if(i.sectionState!=i.SECTION_KEEP)return;var s=o.call(this,e);if(!s)return;s.processWidgetMarkup(t,i,n,r)},__$beginContainerWidget:function(e,t,n,r){var i=this._out;if(i.sectionState==i.SECTION_SKIP)return!1;i.skipContent=!1;var s=o.call(this,e);if(!s)return!1;var u=s.processWidgetMarkupBegin(t,i,n,r);return i.skipContent||u==null?(u&&u.writeMarkupEnd(i),!1):(i.addToCtrlStack
(u),!0)},__$endContainerWidget:function(){var e=this._out,t=e.removeFromCtrlStack();t.writeMarkupEnd(e)},__$statementOnEvent:function(e,t,n){this._out.pushDelegate(e,t)},__$statementRepeater:function(e,t){this._out.repeater(t)},initTemplate:function(s){if(!t.normalize({json:s,beanName:"aria.templates.CfgBeans.InitTemplateCfg"}))return!1;this._out=null,this._cfg=s,s.id?this._id=s.id:(this._id="tpl"+u,u++),Aria.testMode&&(this._prefixIds={}),this.tplClasspath=s.classpath;var o;try{o=Aria.getClassInstance(s.classpath
)}catch(a){return this.$logError(this.TEMPLATE_CONSTR_ERROR,[s.classpath],a),!1}this._tpl=o,s.macro==null&&(s.macro={name:"main",args:s.args,scope:o}),s.macro=this.checkMacro(s.macro);var f=s.context,l=s.moduleCtrl,c=s.data,h,p;f&&!l&&(c||(c=f.data),l=f.moduleCtrl);if(l)if(!aria.templates.ModuleCtrlFactory)this.$logError(this.MISSING_MODULE_CTRL_FACTORY,[s.classpath]);else{n||(n=aria.templates.ModuleCtrlFactory.__getModulePrivateInfoMethod()),h=n.call(this,l);if(!h)return!1;p=h.moduleCtrlPrivate;if(!c)c=p.getData
();else if(f){var d=p.getSubModuleCtrl(c);if(d!=l){l=d,h=n.call(this,l);if(!h)return!1;p=h.moduleCtrlPrivate}}}this.data=c,this.moduleCtrl=l,h&&(this.flowCtrl=h.flowCtrl,this.flowCtrlPrivate=h.flowCtrlPrivate,this.moduleCtrlPrivate=p,this.moduleRes=p.getResourceSet()),s.data=c,s.moduleCtrl=l,aria.templates.TemplateCtxtManager.add(this),this.data!=null&&(this.__dataGround={data:this.data});var v=this,m,g;for(m=0;g=i[m];m++)o[g]=this[g];var y=aria.utils.Function;for(m=0;g=r[m];m++)o[g]=y.bind(this[g],this);o.__$write=
function(e,t){return v.__$write(e,t)},this.moduleCtrl&&this.moduleCtrl.$on({"*":{fn:o.onModuleEvent,scope:o},beforeDispose:{fn:this._beforeModuleDispose,scope:this}}),this.flowCtrl&&this.flowCtrl.$on({"*":o.onFlowEvent,scope:o}),this._width={},this._height={},this.$setViewportWidth(e.realWidth(s.width)),this.$setViewportHeight(e.realHeight(s.height)),this.$setSizeCfg(o.__$width,o.__$height),this.__addDebugInfo(s.tplDiv);var b=o.__$initTemplate();return this.__loadLibs(o.__$macrolibs,"macrolibs"),b},__$beginSection
:function(e,t,n,r){aria.utils.Type.isString(n)&&(n={id:n},r&&(n.type=r)),t===(n!=null&&n.macro!=null)&&(this.$logError(this.SECTION_MACRO_MISUSED,[this.tplClasspath,e]),t&&(n.macro=null)),this._out.beginSection(n)},__$endSection:function(){return this._out.endSection()},__$write:function(e,t){return(e===undefined||e===null)&&this.$logWarn(this.VAR_NULL_OR_UNDEFINED,[t,this.tplClasspath]),this._out.write(e)},$hdim:function(t,n,r){return e.getSODim(this._width,t,n,r)},$vdim:function(t,n,r){return e.getSODim(this
._height,t,n,r)},getContainerDiv:function(){return this._cfg&&this._cfg.div?this._cfg.div:null},$setViewportWidth:function(t){var n=this._width;return e.setSOViewport(n,t),this._tpl.$width!=n.value?(this._tpl.$width=n.value,!0):!1},$setViewportHeight:function(t){var n=this._height;return e.setSOViewport(n,t),this._tpl.$height!=n.value?(this._tpl.$height=n.value,!0):!1},$setSizeCfg:function(t,n){t&&e.setSOSizeCfg(this._width,t),this._tpl.$width=this._width.value,n&&e.setSOSizeCfg(this._height,n),this._tpl.$height=
this._height.value},evalCallback:function(e,t,n){return this._tpl.$callback(e,t,n)},$getId:function(e){return[this._id,e].join("_")},$getAutoId:function(e){e=this._id+"_"+e.replace(/\+/g,"");var t=this._prefixIds,n=t[e]=(t[e]||0)+1;return e+"_auto_"+n},__$writeId:function(e){var t=this._out.tplCtxt.getDomId(e);t&&this._out.write('id="'+t+'"')},getDomId:function(e){return e&&e.indexOf("+")!=-1?Aria.testMode?this.$getAutoId(e):null:this.$getId(e)},$getElementById:function(e){var t=this.$getId(e),n=aria.utils.Dom
.getElementById(t);if(!n)return null;var r=this._mainSection.getSectionById(e),i;return r?i=new aria.templates.SectionWrapper(n,r):i=new aria.templates.DomElementWrapper(n,this),this.__wrappers&&this.__wrappers.push(i),i},$getChild:function(e,t){var n=aria.utils.Dom,r=this.$getId(e),i=n.getElementById(r);if(i)var s=n.getDomElementChild(i,t);if(s){var o=new aria.templates.DomElementWrapper(s,this);return this.__wrappers&&this.__wrappers.push(o),o}return null},getBehaviorById:function(e){return this._mainSection==
null?null:this._mainSection.getBehaviorById(e)},getPersistentStorage:function(){var e=this._persistentStorage;return e==null&&(this.data?(e=this.data[Aria.FRAMEWORK_PREFIX+"persist::"+this.tplClasspath],e==null&&(e={},this.data[Aria.FRAMEWORK_PREFIX+"persist::"+this.tplClasspath]=e)):e={},this._persistentStorage=e),e},$focus:function(e){(aria.core.Browser.isIE7||aria.core.Browser.isIE8)&&Aria.$window.document.body.focus();var t;aria.utils.Type.isArray(e)?(e=e.slice(0),t=e.shift()):(t=e,e=[]);if(!t)return;var n=!1
,r=this.getBehaviorById(t);r&&typeof r.focus!="undefined"&&(r.focus(e),n=!0);if(!n){var i=this.$getId(t),s=aria.utils.Dom.getElementById(i);s&&(s.focus(),n=!0)}n||this.$logError(this.FOCUS_FAILURE,[t,this.tplClasspath])},$focusFromParent:function(){if(this._tpl.$focusFromParent)return this._tpl.$focusFromParent();var e=aria.utils.Dom.getElementById(this._id);return aria.templates.NavigationManager.focusFirst(e)},__$createView:function(e,t,n){var r=this.getPersistentStorage();t.unshift(e);var i=t.length,s=r,o
;for(var u=0;u<i-1;u++)o=t[u],s[o]||(s[o]=[]),s=s[o];return o=t[i-1],s[o]?(s=s[o],s.initialArray=n):(s[o]=new aria.templates.View(n),s=s[o]),s.refresh(),r[e]},isReady:function(){return this._ready},_beforeModuleDispose:function(e){var t=e.reloadingObject,n=this._getReloadCfg(),r=t&&this.moduleCtrl.getData()==n.data;Aria.disposeTemplate(n.div);if(t){var i=this;t.$on({scope:{},objectLoaded:function(e){n.moduleCtrl=e.object,r&&(n.data=e.object.getData()),i._callLoadTemplate(n)}})}},_getReloadCfg:function(){var e=
this.getContainerDiv(),t=this._cfg.origClasspath?this._cfg.origClasspath:this._cfg.classpath,n={classpath:t,width:this._cfg.width,height:this._cfg.height,printOptions:this._cfg.printOptions,div:e,data:this._cfg.data,moduleCtrl:this.moduleCtrlPrivate,provideContext:!0,args:this._cfg.args};return this._cfg.toDispose=[],n},_callLoadTemplate:function(e,t){var n=e.div;if(!aria.utils.Dom.isInDom(n)){this.$callback(t);return}var r=n.__widget;Aria.loadTemplate(e,function(e){if(e.success&&r){var n=e.tplCtxt,i=aria.templates
.TemplateCtxtManager;i.remove(n),e.tplCtxt._cfg.isRootTemplate=!1,i.add(n),r.subTplCtxt=n}t!=null&&this.$callback(t)})},$reload:function(e,t){var n=this._getReloadCfg();e&&aria.templates.TemplateManager.$onOnce({unloadTemplate:{fn:function(){var t=n.classpath.replace(/\./g,"/")+".tpl",r=aria.core.Cache.getItem("files",t,!0);r.status=3,r.value=e},scope:this}}),n.reload=!0,n.reloadByPassCache=!0;var r=Aria.disposeTemplate(n.div);r?this._callLoadTemplate(n,t):this.$logError("Could not reload template: "+n.classpath
)},__$bindAutoRefresh:function(e,t,n){if(this._out._currentSection){var r={inside:e,to:t};t===null&&(e==this.data?(r.inside=this.__dataGround,r.to="data"):this.$logError(this.SECTION_BINDING_ERROR_SINGLE_VAR,[n])),this._out._currentSection.registerBinding(r)}},getCSSDependencies:function(){var e;return this._tpl&&(e=this._tpl.$css),e==null&&(e=[]),e},getCSSClassNames:function(e){var t=this._cssClasses;t||(this._cfg.isRootTemplate&&(aria.templates.CSSMgr.loadWidgetDependencies("aria.templates.Template",["aria.templates.GlobalStyle"
,"aria.widgets.GlobalStyle"]),this._globalCssDepsLoaded=!0),t=aria.templates.CSSMgr.loadDependencies(this),this._cssClasses=t);if(e)return t.join(" ");var n=["xTplContent"];return t.length&&(n=n.concat(t)),aria.core.TplClassLoader.addPrintOptions(n.join(" "),this._cfg.printOptions)},registerProcessingIndicator:function(e,t,n){this.$assert(1200,t!=null),e?n?this.__loadingOverlaysSection[n]=t:this.__loadingOverlays.push(t):n?delete this.__loadingOverlaysSection[n]:aria.utils.Array.remove(this.__loadingOverlays
,t)},refreshProcessingIndicator:function(){this._mainSection&&this._mainSection.refreshProcessingIndicator(!0)},__disposeProcessingIndicators:function(e){var t=aria.utils.DomOverlay;t.disposeOverlays(this.__loadingOverlays),this.__loadingOverlays=[],!e||e.isRoot?(t.disposeOverlays(aria.utils.Array.extractValuesFromMap(this.__loadingOverlaysSection)),this.__loadingOverlaysSection={}):(t.disposeOverlays([this.__loadingOverlaysSection[e.id]]),delete this.__loadingOverlaysSection[e.id])},__disposeWrappers:function(
){for(var e=this.__wrappers.length;e--;)this.__wrappers[e].$dispose(),this.__wrappers.splice(e,1)},getContainerScroll:function(){var e=null,t=this.getContainerDiv();return t&&(e={scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}),e},setContainerScroll:function(e){var t=this.getContainerDiv();t&&e&&(e.hasOwnProperty("scrollLeft")&&e.scrollLeft!=null&&(t.scrollLeft=e.scrollLeft),e.hasOwnProperty("scrollTop")&&e.scrollTop!=null&&(t.scrollTop=e.scrollTop))}}})})();
//*******************
//LOGICAL-PATH:aria/templates/TemplateCtxtManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateCtxtManager",$extends:"aria.utils.Store",$dependencies:["aria.utils.Array","aria.utils.AriaWindow"],$singleton:!0,$constructor:function(){this.$Store.constructor.call(this),this._rootTemplateContexts=[],Aria.rootTemplates=this._rootTemplateContexts,aria.utils.AriaWindow.$on({unloadWindow:this._unloadWindow,scope:this})},$destructor:function(){Aria.rootTemplates=this._templateContexts=null,aria.utils.AriaWindow.$unregisterListeners(this),this.$Store.$destructor
.call(this)},$prototype:{_unloadWindow:function(e){var t=Aria.rootTemplates;for(var n=t.length-1;n>=0;n--)t[n].$dispose()},add:function(e){e._cfg&&e._cfg.isRootTemplate&&(this._rootTemplateContexts.push(e),aria.utils.AriaWindow.attachWindow()),this.$Store.add.call(this,e)},remove:function(e){return e._cfg&&e._cfg.isRootTemplate&&aria.utils.Array.remove(this._rootTemplateContexts,e)&&aria.utils.AriaWindow.detachWindow(),this.$Store.remove.call(this,e)},getFromDom:function(e){var t=function(t){return e==t.getContainerDiv
()};return this.getMatch(t)},disposeFromDom:function(e){var t=function(t){return e==t.getContainerDiv()},n=this.removeMatch(t);return n?(n.$dispose(),!0):!1},getRootCtxts:function(){return this._rootTemplateContexts}}});
//*******************
//LOGICAL-PATH:aria/templates/TemplateManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateManager",$singleton:!0,$events:{unloadTemplate:{description:"",properties:{classpath:"classpath of the template that has been unloaded"}}},$prototype:{unloadTemplate:function(e,t,n){var r=aria.core.ClassMgr,i=e+"Script";(Aria.nspace(i,!1)||aria.core.Cache.getItem("classes",i))&&r.unloadClass(i,t);var s=Aria.$classDefinitions[e];if(s){!Aria.nspace(e,!1)&&s.$css&&aria.templates.CSSMgr.unregisterDependencies(e,s.$css,!0,t);if(s.$resources!=null){var o=s.$resources
;for(var u in o)o.hasOwnProperty(u)&&r.unloadClass(o[u],t)}var a=s.$extends;a!=null&&a!="aria.templates.Template"&&n!==undefined&&n!=e&&this.unloadTemplate(a,t,n)}r.unloadClass(e,t),this.$raiseEvent({name:"unloadTemplate",classpath:e})}}});
//*******************
//LOGICAL-PATH:aria/templates/TemplateTrait.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateTrait",$prototype:{_onModuleCtrlLoad:function(){var e=this._tplcfg;if(!e)return;if(this._needCreatingModuleCtrl){var t=this._cfg.moduleCtrl;aria.templates.ModuleCtrlFactory.createModuleCtrl(t,{fn:this._onTplLoad,scope:this,args:{autoDispose:t.autoDispose}})}else this._onTplLoad({moduleCtrl:e.moduleCtrl},{autoDispose:!1})},__innerTplReadyCb:function(){this.subTplCtxt.viewReady(),this.$raiseEvent("ElementReady"),this.isDiffered=!1},_focusHelper:function(
e){return!e||!e.length?this.subTplCtxt.$focusFromParent():(this.subTplCtxt.$focus(e),!0)},focus:function(e,t){return this.subTplCtxt?this._focusHelper(e):(this.$onOnce({ElementReady:function(){var n=this._focusHelper(e);n===!1&&this.$callback(t)},scope:this}),!0)}}});
//*******************
//LOGICAL-PATH:aria/templates/TmlClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TmlClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.TplParser","aria.templates.TplClassGenerator"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["Library","id","on","createView","section","@","bindRefreshTo","repeater"]),this._parser=aria.templates.TplParser,this._superClass="aria.templates.Template",this._classType="TML",this._rootStatement="Library",this._templateParamBean="aria.templates.CfgBeans.LibraryCfg"
,this.escapeModifier="escapeForHTML"},$prototype:{$init:function(e){var t=aria.templates.TplClassGenerator;e._processTemplateContent=t._processTemplateContent},_writeClassInit:function(e){var t=e.templateParam;e.enterBlock("classInit"),this._writeMapInheritance(e,"__$macrolibs",e.templateParam.$macrolibs,"{}"),e.leaveBlock(),this.$ClassGenerator._writeClassInit.call(this,e)}}});
//*******************
//LOGICAL-PATH:aria/templates/TplClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TplClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.TplParser","aria.widgetLibs.environment.WidgetLibsSettings"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["Template","id","on","createView","section","@","bindRefreshTo","repeater"]),this._parser=aria.templates.TplParser,this._superClass="aria.templates.Template",this._classType="TPL",this._rootStatement="Template"
,this._templateParamBean="aria.templates.CfgBeans.TemplateCfg",this.escapeModifier="escapeForHTML"},$prototype:{_writeClassInit:function(e){var t=e.templateParam;e.enterBlock("classInit"),this._writeMapInheritance(e,"__$macrolibs",e.templateParam.$macrolibs,"{}"),this._writeValueInheritance(e,"__$width",t.$width,"{}"),this._writeValueInheritance(e,"__$height",t.$height,"{}"),e.leaveBlock(),this.$ClassGenerator._writeClassInit.call(this,e)},_processTemplateContent:function(e){var t=e.out,n=t.templateParam,r=n
.$wlibs,i=[],s=aria.widgetLibs.environment.WidgetLibsSettings.getWidgetLibs();for(var o in s)s.hasOwnProperty(o)&&r[o]==null&&(r[o]=s[o]);for(var o in r)r.hasOwnProperty(o)&&(t.allDependencies&&t.addDependency(r[o]),i.push(r[o]));Aria.load({classes:i,oncomplete:{fn:this.$ClassGenerator._processTemplateContent,scope:this,args:e}})}}});
//*******************
//LOGICAL-PATH:aria/templates/TplParser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TplParser",$extends:"aria.templates.Parser",$singleton:!0,$prototype:{parseTemplate:function(e,t,n){return this.context=t,this._prepare(e),this._computeLineNumbers(),this._buildTree()}}});
//*******************
//LOGICAL-PATH:aria/templates/TreeBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.templates.TreeBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Root:{$type:"Statement",$description:"",$mandatory:!0,$properties:{name:{$type:"Statement.name",$regExp:/^#ROOT#$/},content:{$type:"Statement.content",$mandatory:!0},parent:{$type:"Statement.parent",$description:"",$mandatory:!1}}},Statement:{$type:"json:Object",$description:"",$properties:{name:{$type:"json:String",$description:"",$mandatory:!0},lineNumber:{$type:"json:Integer",$description
:"",$mandatory:!0},parent:{$type:"json:ObjectRef",$description:"",$mandatory:!0},content:{$type:"json:Array",$mandatory:!1,$description:"",$contentType:{$type:"Statement",$mandatory:!0}},firstCharContentIndex:{$type:"json:Integer",$description:"",$minValue:0,$mandatory:!1},lastCharContentIndex:{$type:"json:Integer",$description:"",$minValue:0,$mandatory:!1},paramBlock:{$type:"json:String",$description:"",$mandatory:!0},firstCharParamIndex:{$type:"json:Integer",$description:"",$minValue:0,$mandatory:!1},lastCharParamIndex
:{$type:"json:Integer",$description:"",$minValue:0,$mandatory:!1}}}}});
//*******************
//LOGICAL-PATH:aria/templates/TxtParser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TxtParser",$extends:"aria.templates.Parser",$singleton:!0,$constructor:function(){this.$Parser.constructor.apply(this,arguments),this._keepWhiteSpace=!0},$prototype:{parseTemplate:function(e,t,n){return this.context=t,this._prepare(e),this._computeLineNumbers(),this._buildTree()}}});
//*******************
//LOGICAL-PATH:aria/templates/View.js
//*******************
(function(){var e=function(e,t){return e.sortKey==t.sortKey?0:e.sortKey>t.sortKey?1:-1},t=function(e,t){return e.sortKey==t.sortKey?0:e.sortKey>t.sortKey?-1:1},n=function(e,t){return e.value[t.propertyName]},r;Aria.classDefinition({$classpath:"aria.templates.View",$dependencies:["aria.utils.Json","aria.utils.StackHashMap","aria.utils.Type"],$onload:function(){r=aria.utils.Json},$onunload:function(){r=null},$constructor:function(e){if(!aria.utils.Type.isObject(e)&&!aria.utils.Type.isArray(e)){this.$logError(this
.INVALID_TYPE_OF_ARGUMENT);return}this.initialArray=e,this.sortOrder=this.SORT_INITIAL,this.sortName=null,this.sortKeyGetter=null,this.items=[],this.filteredInCount=0,this.pageSize=-1,this.pageMode=!1,this.currentPageIndex=0,this.pages=this.EMPTY_PAGES,this._currentState={initialArray:null,sortOrder:this.sortOrder,sortName:this.sortName,sortKeyGetter:this.sortKeyGetter,pageSize:this.pageSize,currentPageIndex:this.currentPageIndex},this._changes=0,this._jsonChangeCallback={fn:this._notifyDataChange,scope:this
},this._refreshInitialArray()},$destructor:function(){this.items&&(this._removeListenersOnItems(this.items),this.items=null),this._jsonChangeCallback=null,this.initialArray=null,this.pages=null},$statics:{SORT_INITIAL:"I",SORT_ASCENDING:"A",SORT_DESCENDING:"D",FILTER_SET:0,FILTER_ADD:1,FILTER_REMOVE:2,CHANGED_INITIAL_ARRAY:1,CHANGED_SORT_CRITERIA:2,_CHANGED_FILTERED_IN:4,_CHANGED_PAGE_DATA:8,EMPTY_PAGES:[{pageIndex:0,pageNumber:1,firstItemIndex:0,lastItemIndex:-1,firstItemNumber:0,lastItemNumber:0}],INVALID_TYPE_OF_ARGUMENT
:"Invalid type: a View can be created on Arrays or Objects",propertySorter:function(e){return{scope:this,fn:n,args:{propertyName:e}}}},$prototype:{notifyChange:function(e){this._changes=this._changes|e},refresh:function(e){e&&this.notifyChange(e);var t=this._currentState;this._refreshInitialArray(),this.$assert(156,t.initialArray==this.initialArray),this.sortOrder==this.SORT_INITIAL?(t.sortOrder!=this.SORT_INITIAL&&this._resetSortOrder(),this.sortName=null,this.sortKeyGetter=null):t.sortKeyGetter!=this.sortKeyGetter||
t.sortName!=this.sortName||this._changes&this.CHANGED_SORT_CRITERIA?this._sort():this.sortOrder!=t.sortOrder&&(this.$assert(167,this.sortOrder!=this.SORT_INITIAL&&t.sortKeyGetter==this.sortKeyGetter&&t.sortName==this.sortName&&!(this._changes&this.CHANGED_SORT_CRITERIA)),this.items.reverse(),t.sortOrder=this.sortOrder,this._changes=this._changes|this._CHANGED_PAGE_DATA),this.$assert(176,this.sortOrder==t.sortOrder),this.$assert(177,this.sortKeyGetter==t.sortKeyGetter),this.$assert(178,this.sortName==t.sortName
),(t.pageSize!=this.pageSize||this._changes&(this._CHANGED_PAGE_DATA|this._CHANGED_FILTERED_IN))&&this._refreshPageData(),this.$assert(181,this.pageSize==t.pageSize),this.pageMode?(this.$assert(194,this.pages.length>=0),this.currentPageIndex<0?this.currentPageIndex=0:this.currentPageIndex>=this.pages.length&&(this.currentPageIndex=this.pages.length-1)):this.currentPageIndex=0,t.currentPageIndex=this.currentPageIndex,this._changes=0},_notifyDataChange:function(e){this._changes=this._changes|this._CHANGED_FILTERED_IN
},_removeListenersOnItems:function(e){var t=e.length;for(var n=0;n<t;n++)r.removeListener(e[n],"filteredIn",this._jsonChangeCallback)},_refreshInitialArray:function(){var e=this._currentState,t=this.initialArray,n;if(e.initialArray==t&&!(this._changes&this.CHANGED_INITIAL_ARRAY))return;if(e.initialArray){n=new aria.utils.StackHashMap;var r=this.items,i=r.length,s;for(var o=0;o<i;o++)s=r[o],n.push(s.value,s)}if(aria.utils.Type.isObject(t))var u=this._getItemsFromMap(n);else var u=this._getItemsFromArray(n);n&&
(this._removeListenersOnItems(n.removeAll()),n.$dispose()),this.items=u.items;var a=u.filteredOutElements,f=this.items.length;e.initialArray=t,e.sortOrder=this.SORT_INITIAL,e.sortName=null,e.sortKeyGetter=null,e.pageSize=-1,this.filteredInCount=f-a,this.pages=[{pageIndex:0,pageNumber:1,firstItemIndex:0,lastItemIndex:f-1,firstItemNumber:f>0?1:0,lastItemNumber:this.filteredInCount}],this._changes=this._changes&!this.CHANGED_INITIAL_ARRAY},_getItemsFromArray:function(e){var t=this.initialArray,n=[],i=0,s=t.length
;for(var o=0;o<s;o++){var u=t[o],a=null;e&&(a=e.pop(u)),a==null?(a={value:u,initIndex:o,filteredIn:!0,sortKey:null,pageIndex:0},r.addListener(a,"filteredIn",this._jsonChangeCallback,!0)):a.pageIndex=0,n[o]=a,a.filteredIn||i++}return{items:n,filteredOutElements:i}},_getItemsFromMap:function(e){var t=0,n=[],i=0,s=this.initialArray;for(var o in s)if(s.hasOwnProperty(o)&&!r.isMetadata(o)){var u=s[o],a=null;e&&(a=e.pop(u)),a==null?(a={value:u,initIndex:o,filteredIn:!0,sortKey:null,pageIndex:0},r.addListener(a,"filteredIn"
,this._jsonChangeCallback,!0)):a.pageIndex=0,n[t]=a,a.filteredIn||i++,t++}return{items:n,filteredOutElements:i}},_resetSortOrder:function(){var e=this.items,t=e.length,n=[],i=this.initialArray;if(aria.utils.Type.isObject(i)){var s=new aria.utils.StackHashMap,o;for(var u=0;u<t;u++)o=e[u],s.push(o.value,o);var a=0;for(var f in i)i.hasOwnProperty(f)&&!r.isMetadata(f)&&(n[a]=s.pop(i[f]),a++);s.$dispose()}else for(var u=0;u<t;u++){var l=e[u];n[l.initIndex]=l,delete e[u]}this.items=n;var c=this._currentState;c.sortOrder=
this.SORT_INITIAL,c.sortName=null,c.sortKeyGetter=null,this._changes=this._changes|this._CHANGED_PAGE_DATA},_sort:function(){var n=this.sortKeyGetter,r=this.items,i=r.length;for(var s=0;s<i;s++){var o=r[s];o.sortKey=n.fn.call(n.scope,o,n.args)}r.sort(this.sortOrder==this.SORT_ASCENDING?e:t);var u=this._currentState;u.sortKeyGetter=this.sortKeyGetter,u.sortOrder=this.sortOrder,u.sortName=this.sortName,this._changes=this._changes|this._CHANGED_PAGE_DATA},_refreshPageData:function(){var e=this.items,t=e.length,
n=this.pageSize;n<=0&&(n=-1);var r=[],i=0,s=0,o=0,u=-1;for(var a=0;a<t;a++){var f=e[a];f.filteredIn?(o===0&&(u=a),o++,f.pageIndex=s,o==n&&(r[i++]={pageIndex:s,pageNumber:s+1,firstItemIndex:u,lastItemIndex:a,firstItemNumber:s*n+1,lastItemNumber:(s+1)*n},s++,o=0)):f.pageIndex=-1}this._currentState.pageSize=n,this.pageMode=n>0,this.filteredInCount=s*n+o,o>0&&(r[i++]={pageIndex:s,pageNumber:s+1,firstItemIndex:u,lastItemIndex:t-1,firstItemNumber:s*n+1,lastItemNumber:this.filteredInCount}),i===0&&(r=this.EMPTY_PAGES
),this.pages=r},allFilteredIn:function(e){e==null&&(e=!0),this._refreshInitialArray();var t=this.items,n=t.length;for(var i=0;i<n;i++)r.setValue(t[i],"filteredIn",e,this._jsonChangeCallback);this.notifyChange(this._CHANGED_FILTERED_IN)},allFilteredOut:function(e){e==null&&(e=!0),this.allFilteredIn(!e)},toggleSortOrder:function(e,t){this.$assert(326,e!=null&&t!=null),this.sortOrder!=this.SORT_INITIAL&&this.sortName==e?this.sortOrder==this.SORT_ASCENDING?this.sortOrder=this.SORT_DESCENDING:(this.$assert(330,this
.sortOrder==this.SORT_DESCENDING),this.sortOrder=this.SORT_ASCENDING,this.sortName=e,this.sortKeyGetter=this.$normCallback(t)):(this.sortName=e,this.sortKeyGetter=this.$normCallback(t),this.sortOrder=this.SORT_ASCENDING)},setPageSize:function(e){this.pageSize=e,this.refresh()},setCurrentPageIndex:function(e){this.currentPageIndex=e,this.refresh()},setSort:function(e,t,n){this.sortOrder=e,this.sortName=t,this.sortKeyGetter=this.$normCallback(n),this.refresh()},filterIn:function(e,t){t=this.$normCallback(t);var n=
t.fn,i=t.scope;this._refreshInitialArray();var s=this.items,o=s.length;for(var u=0;u<o;u++){var a=s[u],f=a.filteredIn;if(e==this.FILTER_SET||f===(e==this.FILTER_REMOVE))f=n.call(i,a,t.args),r.setValue(a,"filteredIn",f)}},getNewIndex:function(e,t){for(var n=0,r=e.length;n<r;n+=1)if(e[n].initIndex==t)return n}}})})();
//*******************
//LOGICAL-PATH:aria/widgetLibs/BaseWidget.js
//*******************
(function(){var e=null,t=null,n=function(e,t){return e._context&&(t||(t=[]),t.unshift("Template: "+e._context.tplClasspath+", Line: "+e._lineNumber+"\n")),t};Aria.classDefinition({$classpath:"aria.widgetLibs.BaseWidget",$dependencies:["aria.utils.IdManager","aria.templates.CSSMgr"],$onload:function(){e=new aria.utils.IdManager("w"),t=aria.utils.Array},$onunload:function(){e.$dispose(),e=null,t=null},$constructor:function(e,t,n){this._cfg=e,this._context=t,this._lineNumber=n,this._dynamicIds=null,aria.templates
.CSSMgr.loadWidgetDependencies(this.$classpath,this.$css),this.__cssLoaded=!0},$destructor:function(){this._releaseAllDynamicIds(),this.__cssLoaded?(aria.templates.CSSMgr.unloadWidgetDependencies(this.$classpath,this.$css),this.__cssLoaded=!1):this.$logError(this.WIDGET_DISPOSED_TWICE),this._context=null,this._cfg=null},$statics:{WIDGET_CONTAINER_ONLY:"%1This widget must be used as a container.",WIDGET_NOT_CONTAINER:"%1This widget cannot be used as a container.",WIDGET_DISPOSED_TWICE:"This widget was disposed twice."
},$prototype:{writeMarkup:function(e){this.$logError(this.WIDGET_CONTAINER_ONLY)},writeMarkupBegin:function(e){this.$logError(this.WIDGET_NOT_CONTAINER)},getDom:function(){return null},$logError:function(e,t,r){this.$JsObject.$logError.call(this,e,n(this,t),r)},$logWarn:function(e,t,r){this.$JsObject.$logWarn.call(this,e,n(this,t),r)},$logInfo:function(e,t,r){this.$JsObject.$logInfo.call(this,e,n(this,t),r)},$logDebug:function(e,t,r){this.$JsObject.$logDebug.call(this,e,n(this,t),r)},writeMarkupEnd:function(
e){},initWidget:function(){},_createDynamicId:function(){var t=e.getId();return this._dynamicIds?this._dynamicIds.push(t):this._dynamicIds=[t],t},_releaseDynamicId:function(n){var r=this._dynamicIds;if(r){var i=t.indexOf(r,n);i!=-1&&(e.releaseId(n),r.length==1?this._dynamicIds=null:t.removeAt(r,i))}},_releaseAllDynamicIds:function(){var t=this._dynamicIds;if(t){for(var n=t.length-1;n>=0;n--)e.releaseId(t[n]);this._dynamicIds=null}}}})})();
//*******************
//LOGICAL-PATH:aria/widgetLibs/BindableWidget.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.BindableWidget",$extends:"aria.widgetLibs.BaseWidget",$statics:{INVALID_BEAN:"Invalid propety '%1' in widget's '%2' configuration."},$dependencies:["aria.utils.Json","aria.utils.Type"],$constructor:function(e,t,n){this.$BaseWidget.constructor.call(this,e,t,n),this._bindingListeners={}},$destructor:function(){var e=this._bindingListeners,t=aria.utils.Json;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t.removeListener(r.inside,r.to,r.cb)}this._bindingListeners=
null,this.$BaseWidget.$destructor.call(this)},$prototype:{_registerBindings:function(){var e=this._cfg.bind,t=aria.utils.Json;if(e)for(var n in e){if(!e.hasOwnProperty(n))continue;var r=e[n];if(r){var i={fn:this._notifyDataChange,scope:this,args:n};try{t.addListener(r.inside,r.to,i,!0),this._bindingListeners[n]={inside:r.inside,to:r.to,transform:r.transform,cb:i};var s=this._transform(r.transform,r.inside[r.to],"toWidget");this.setWidgetProperty(n,s)}catch(o){this.$logError(this.INVALID_BEAN,[n,"bind"])}}}},
_notifyDataChange:Aria.empty,setWidgetProperty:Aria.empty,_transform:function(e,t,n){var r=t;if(e){var i=!1,s=aria.utils.Type;s.isString(e)&&e.indexOf(".")!=-1&&(e=Aria.getClassInstance(e),i=!0),e[n]?r=this.evalCallback(e[n],r):s.isFunction(e)&&(r=this.evalCallback(e,r)),i&&e.$dispose()}return r},evalCallback:function(e,t){return this._context.evalCallback(e,t)}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/CommonBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.widgetLibs.CommonBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Callback:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:Object",$description:"",$properties:{fn:{$type:"FunctionName",$description:""},scope:{$type:"json:ObjectRef",$description:""},args:{$type:"json:MultiTypes",$description:""}}},{$type:"FunctionName",$description:""}]},FunctionName:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:String",$description
:""},{$type:"json:FunctionRef",$description:""}]},BindingRef:{$type:"json:Object",$description:"",$properties:{to:{$type:"json:JsonProperty",$description:""},inside:{$type:"json:ObjectRef",$description:""},transform:{$type:"TransformRef",$description:""}}},TransformRef:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:Object",$description:"",$properties:{toWidget:{$type:"FunctionName",$description:""},fromWidget:{$type:"FunctionName",$description:""}}},{$type:"FunctionName",$description:""
}]}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/WidgetLib.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.WidgetLib",$statics:{UNKWOWN_WIDGET:"Unknown widget name in the library.",ERROR_WIDGET_INIT:"Template %1, line %2: an error occurred while initializing widget %3. Please check the name and classpath of the widget in the library, the constructor of the widget and its %4 method."},$prototype:{widgets:{},getWidgetDependencies:function(e,t){var n=this.widgets[e];return n==null?null:t||Aria.getClassRef(n)==null?[n]:[]},processWidgetMarkup:function(e,t,n,r){var i=this
.widgets[e];try{if(!i)throw this.UNKWOWN_WIDGET;n||(n={});var s=Aria.getClassRef(i),o=new s(n,t.tplCtxt,r);t.registerBehavior(o),o.writeMarkup(t)}catch(u){t.write("#Error in widget:"+e+"#"),this.$logError(this.ERROR_WIDGET_INIT,[t.tplCtxt.tplClasspath,r,e,"writeMarkup"],u)}},processWidgetMarkupBegin:function(e,t,n,r){var i=this.widgets[e];try{if(i){n||(n={});var s=Aria.getClassRef(i),o=new s(n,t.tplCtxt,r);return t.registerBehavior(o),o.writeMarkupBegin(t),o}throw this.UNKWOWN_WIDGET}catch(u){t.write("#Error in widget:"+
e+"#"),this.$logError(this.ERROR_WIDGET_INIT,[t.tplCtxt.tplClasspath,r,e,"writeMarkupBegin"],u)}}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/environment/WidgetLibsSettings.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.environment.WidgetLibsSettings",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans"],$singleton:!0,$prototype:{_cfgPackage:"aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans.AppCfg",getWidgetLibs:function(){var e=this.checkApplicationSettings("defaultWidgetLibs"),t=this.checkApplicationSettings("defaultWidgetLib");return t&&(e=aria.utils.Json.copy(e,!1),e.aria=t),e}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/environment/WidgetLibsSettingsCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$description:"",$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{defaultWidgetLibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:""},$default:{aria:"aria.widgets.AriaLib"}}}}}});
//*******************
//LOGICAL-PATH:aria/utils/environment/VisualFocus.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.environment.VisualFocus",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.utils.environment.VisualFocusCfgBeans"],$singleton:!0,$prototype:{_cfgPackage:"aria.utils.environment.VisualFocusCfgBeans.AppCfg",getAppOutlineStyle:function(){return this.checkApplicationSettings("appOutlineStyle")},_applyEnvironment:function(e){var t=this.checkApplicationSettings("appOutlineStyle");t?Aria.load({classes:["aria.utils.VisualFocus"],oncomplete:e?{fn:function(
){this.$callback(e)},scope:this}:null}):this.$callback(e)}}});
//*******************
//LOGICAL-PATH:aria/utils/environment/VisualFocusCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.utils.environment.VisualFocusCfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{appOutlineStyle:{$type:"json:String",$description:"",$default:null}}}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenu.js
//*******************
Aria.classDefinition({$classpath:"aria.tools.contextual.environment.ContextualMenu",$dependencies:["aria.tools.contextual.environment.ContextualMenuCfgBeans"],$extends:"aria.core.environment.EnvironmentBase",$singleton:!0,$prototype:{_cfgPackage:"aria.tools.contextual.environment.ContextualMenuCfgBeans.AppCfg",getContextualMenu:function(){return this.checkApplicationSettings("contextualMenu")}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenuCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.tools.contextual.environment.ContextualMenuCfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes",environmentBase:"aria.core.environment.EnvironmentBaseCfgBeans"},$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{contextualMenu:{$type:"ContextualMenuCfg",$default:{}}}},ContextualMenuCfg:{$type:"json:Object",$description:"",$properties:{enabled:{$type:"json:Boolean",$description:"",$default:Aria.debug},template:{$type:"json:PackageName"
,$description:"",$default:"aria.tools.contextual.ContextualDisplay"},moduleCtrl:{$type:"json:PackageName",$description:"",$default:"aria.tools.contextual.ContextualModule"}}}}});